@model TourBookingWeb.Models.ViewModels.LoginViewModel
@{
    ViewData["Title"] = "Đăng nhập";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<!-- Hero banner màu -->
<div id="heroSlider" class="carousel slide mb-0 position-relative" data-bs-ride="carousel">
    <!-- Static Text Overlay -->
    <div class="position-absolute top-50 start-50 translate-middle text-center z-3 hero-text-overlay">
        <h1 class="display-3 fw-bold mb-3 text-white">Xin mời bạn đăng nhập</h1>
    </div>

    <div class="carousel-inner">
        <div class="carousel-item active">
            <div class="container-fluid hero-header" style="height: 200px; background: url('/img/background/bg1.jpg') center/cover no-repeat;"></div>
        </div>
        <div class="carousel-item">
            <div class="container-fluid hero-header" style="height: 200px; background: url('/img/background/bg2.jpg') center/cover no-repeat;"></div>
        </div>
        <div class="carousel-item">
            <div class="container-fluid hero-header" style="height: 200px; background: url('/img/background/bg3.jpg') center/cover no-repeat;"></div>
        </div>
    </div>
</div>


<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-5">
            <div class="card shadow border-0 rounded-4 animate__animated animate__fadeIn">
                <div class="card-header bg-primary text-white text-center rounded-top-4 py-4">
                    <h4 class="mb-0"><i class="fas fa-user-circle me-2"></i>Đăng nhập tài khoản</h4>
                </div>
                <div class="card-body px-4 py-5 bg-light rounded-bottom">
                    <form asp-action="Login" method="post" novalidate>
                        <!-- Email -->
                        <div class="mb-3">
                            <label asp-for="Email" class="form-label fw-semibold">Email</label>
                            <div class="input-group">
                                <span class="input-group-text bg-white"><i class="fas fa-envelope text-primary"></i></span>
                                <input asp-for="Email" class="form-control shadow-sm" placeholder="Nhập địa chỉ email..." />
                            </div>
                            <span asp-validation-for="Email" class="text-danger small"></span>
                        </div>

                        <!-- Password -->
                        <div class="mb-3">
                            <label asp-for="Password" class="form-label fw-semibold">Mật khẩu</label>
                            <div class="input-group">
                                <span class="input-group-text bg-white"><i class="fas fa-lock text-primary"></i></span>
                                <input asp-for="Password" class="form-control shadow-sm" type="password" id="passwordField" placeholder="Nhập mật khẩu..." />
                                <button type="button" class="btn btn-outline-secondary" id="togglePassword">
                                    <i class="fas fa-eye" id="toggleIcon"></i>
                                </button>
                            </div>
                            <span asp-validation-for="Password" class="text-danger small"></span>
                            <div class="text-end mt-1">
                                <a asp-action="ForgotPassword" class="small text-decoration-none text-primary fw-bold">Quên mật khẩu?</a>
                            </div>
                        </div>

                        <!-- Submit -->
                        <div class="d-grid mt-4">
                            <button type="submit" class="btn btn-primary fw-bold py-2">
                                <i class="fas fa-sign-in-alt me-1"></i> Đăng nhập
                            </button>
                        </div>

                        <!-- Lỗi -->
                        @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
                        {
                            <div class="alert alert-danger mt-3">@error.ErrorMessage</div>
                        }
                    </form>
                </div>
                <div class="card-footer bg-white text-center rounded-bottom pb-4 pt-3">
                    <p class="mb-1">Chưa có tài khoản? <a href="/Account/Register" class="text-primary text-decoration-none fw-semibold">Đăng ký ngay</a></p>
                    <a asp-action="ResendEmailConfirmation" class="small text-muted text-decoration-none">📩 Gửi lại mã xác nhận email</a>
                </div>
            </div>
        </div>
    </div>
</div>


@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    <script>
        document.getElementById('togglePassword').addEventListener('click', function () {
            const passwordInput = document.getElementById('passwordField');
            const icon = document.getElementById('toggleIcon');
            const isPassword = passwordInput.type === 'password';
            passwordInput.type = isPassword ? 'text' : 'password';
            icon.classList.toggle('fa-eye');
            icon.classList.toggle('fa-eye-slash');
        });
    </script>
}

<style>
    .contact-box {
        border: 1px dashed #dee2e6;
        border-radius: 10px;
        padding: 30px;
        background-color: #fff;
        transition: all 0.3s ease;
    }

        .contact-box:hover {
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
            transform: translateY(-5px);
        }

    .hero-header {
        background-color: #f8f9fa;
    }
</style>