2025-05-11 00:22:39.1023 INFO Executed DbCommand (56ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:22:39.2524 INFO Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 00:22:39.7211 INFO Now listening on: http://localhost:5062 
2025-05-11 00:22:39.8129 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 00:22:39.8129 INFO Hosting environment: Development 
2025-05-11 00:22:39.8129 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 00:22:46.3419 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 00:22:46.4641 INFO Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 00:22:46.4968 INFO Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:22:46.5012 INFO Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:22:46.5012 INFO Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 00:22:46.5232 INFO Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 00:22:46.5232 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:22:46.5232 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:22:46.5293 INFO Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 00:22:46.5293 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:22:46.5682 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:22:46.5780 WARN admin 
2025-05-11 00:22:47.7968 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b].[BookingDate] DESC 
2025-05-11 00:22:57.7481 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 00:23:00.4115 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:23:00.4460 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 00:23:00.4616 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 00:23:00.5598 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:23:00.6005 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:23:00.6081 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:23:03.0542 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:23:03.0676 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:23:03.0676 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:23:04.4411 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:23:04.4411 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:23:04.4411 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:24:12.5907 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b].[BookingDate] DESC 
2025-05-11 00:36:04.6611 INFO Executed DbCommand (47ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:36:04.7500 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 00:36:05.0692 INFO Now listening on: http://localhost:5062 
2025-05-11 00:36:05.1358 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 00:36:05.1358 INFO Hosting environment: Development 
2025-05-11 00:36:05.1358 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 00:36:10.1858 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 00:36:10.3003 INFO Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 00:36:10.3284 INFO Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:36:10.3284 INFO Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:36:10.3411 INFO Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 00:36:10.3411 INFO Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 00:36:10.3411 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:36:10.3411 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:36:10.3411 INFO Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 00:36:10.3577 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:36:10.3577 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:36:10.3577 WARN admin 
2025-05-11 00:36:11.3507 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b].[BookingDate] DESC 
2025-05-11 00:36:11.5327 ERROR An unhandled exception has occurred while executing the request. System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'System.Collections.Generic.List`1[TourBookingWeb.Models.Booking]', but this ViewDataDictionary instance requires a model item of type 'X.PagedList.IPagedList`1[TourBookingWeb.Models.Booking]'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at lambda_method527(Closure, ViewDataDictionary)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TourBookingWeb.Program.<>c.<<Main>b__0_7>d.MoveNext() in D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb\Program.cs:line 143
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-11 00:39:22.1293 INFO Executed DbCommand (46ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:39:22.2263 INFO Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 00:39:22.4922 INFO Now listening on: http://localhost:5062 
2025-05-11 00:39:22.5502 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 00:39:22.5502 INFO Hosting environment: Development 
2025-05-11 00:39:22.5502 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 00:39:27.6063 INFO Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 00:39:27.7167 INFO Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 00:39:27.7447 INFO Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:39:27.7482 INFO Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:39:27.7482 INFO Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 00:39:27.7657 INFO Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 00:39:27.7657 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:39:27.7657 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:39:27.7657 INFO Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 00:39:27.7657 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:39:27.7861 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:39:27.7861 WARN admin 
2025-05-11 00:39:28.9429 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:39:28.9947 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:39:31.5014 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:39:31.5194 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:39:32.1875 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:39:32.1875 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:39:32.6025 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:39:32.6025 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:39:33.1845 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:39:33.1874 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:39:34.3590 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:39:34.3590 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:39:35.2661 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:39:35.2661 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:39:35.5927 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:39:35.5927 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:39:35.8256 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:39:35.8256 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:39:36.0847 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:39:36.0847 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:39:36.4279 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:39:36.4279 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:39:36.8569 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:39:36.8569 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:39:37.2548 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:39:37.2548 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:39:37.6989 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:39:37.7018 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:39:38.5150 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:39:38.5150 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:39:40.5451 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:39:40.5451 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:39:41.0226 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:39:41.0226 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:39:41.4989 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:39:41.4989 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:39:45.9941 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:39:46.0211 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 00:39:46.0327 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 00:39:46.1208 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:39:46.1599 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:39:46.1599 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:39:47.5141 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:39:47.5141 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:39:47.5310 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:39:48.6755 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:39:48.6755 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:39:48.6755 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:39:50.3843 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:39:50.3843 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:39:50.3884 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:39:53.9988 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:39:53.9988 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:39:53.9988 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:40:11.6682 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:40:11.6729 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:40:30.1937 INFO Executed DbCommand (45ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:40:30.2891 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 00:40:30.5684 INFO Now listening on: http://localhost:5062 
2025-05-11 00:40:30.6312 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 00:40:30.6312 INFO Hosting environment: Development 
2025-05-11 00:40:30.6312 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 00:40:35.1177 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 00:40:35.2350 INFO Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 00:40:35.2604 INFO Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:40:35.2660 INFO Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:40:35.2660 INFO Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 00:40:35.2818 INFO Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 00:40:35.2818 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:40:35.2818 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:40:35.2818 INFO Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 00:40:35.2818 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:40:35.3050 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:40:35.3050 WARN admin 
2025-05-11 00:40:36.3322 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:40:36.3869 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:40:38.6675 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:40:38.6841 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:40:40.2492 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:40:40.2492 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:40:51.9183 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:40:51.9460 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 00:40:51.9580 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 00:40:52.0440 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:40:52.0783 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:40:52.0783 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:40:53.2813 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:40:53.2948 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:40:53.2948 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:40:54.7602 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:40:54.7628 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:40:54.7628 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:41:11.8905 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:41:11.8905 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:41:11.8905 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:44:14.2490 INFO Executed DbCommand (47ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:44:14.3547 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 00:44:14.6377 INFO Now listening on: http://localhost:5062 
2025-05-11 00:44:14.6992 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 00:44:14.6992 INFO Hosting environment: Development 
2025-05-11 00:44:14.6992 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 00:44:24.6952 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:44:24.7985 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 00:44:24.9007 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 00:44:24.9364 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 00:44:25.1566 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:44:25.2224 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 00:44:28.1701 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 00:44:28.2557 INFO Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 00:44:28.2787 INFO Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:44:28.2826 INFO Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:44:28.2826 INFO Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 00:44:28.2983 INFO Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 00:44:28.2983 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:44:28.2983 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:44:28.2983 INFO Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 00:44:28.2983 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:44:28.3197 INFO Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:44:28.3197 WARN admin 
2025-05-11 00:44:29.2619 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:44:29.2892 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:44:31.6149 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:44:31.6335 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:44:32.2974 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:44:32.2974 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:44:33.3601 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:44:33.3601 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:44:33.9395 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:44:33.9395 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:44:35.2005 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:44:35.2036 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:44:38.4541 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:44:38.4691 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 00:44:38.4691 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 00:44:38.5611 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:44:38.5805 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:44:38.5805 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:44:41.6599 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:44:41.6599 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:44:45.3308 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 00:44:47.0623 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:44:47.0623 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 00:44:47.0623 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 00:44:47.1128 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:44:47.1128 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:44:47.1128 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:44:51.9647 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:44:51.9684 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:44:54.8225 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:44:54.8284 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:44:55.3942 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:44:55.3942 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:44:56.4206 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:44:56.4206 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:44:59.0764 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:44:59.0764 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:44:59.5151 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:44:59.5151 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:45:24.2627 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:45:24.2682 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:50:15.7390 INFO Executed DbCommand (50ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:50:15.8377 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 00:50:16.1330 INFO Now listening on: http://localhost:5062 
2025-05-11 00:50:16.1952 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 00:50:16.1952 INFO Hosting environment: Development 
2025-05-11 00:50:16.1952 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 00:50:21.1035 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 00:50:21.2156 INFO Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 00:50:21.2430 INFO Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:50:21.2430 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:50:21.2541 INFO Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 00:50:21.2541 INFO Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 00:50:21.2641 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:50:21.2641 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:50:21.2641 INFO Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 00:50:21.2641 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:50:21.2833 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:50:21.2833 WARN admin 
2025-05-11 00:50:22.2823 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:50:22.3328 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:50:22.5066 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:50:22.5066 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:50:24.4287 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:50:24.4455 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:50:24.9590 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:50:24.9590 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:50:25.2823 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:50:25.2823 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:50:26.2519 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:50:26.2519 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:50:26.8805 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:50:26.8805 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:50:27.4573 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:50:27.4573 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:50:27.7788 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:50:27.7788 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:50:28.6395 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:50:28.6395 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:50:32.5001 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:50:32.5282 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 00:50:32.5404 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 00:50:32.6477 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:50:32.6844 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:50:32.6844 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:50:35.6861 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:50:35.6861 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:50:35.7391 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:50:35.7391 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:50:38.8899 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:50:38.8899 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 00:50:38.8899 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 00:50:38.9412 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:50:38.9412 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:50:38.9500 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:50:45.5391 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:50:45.5561 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 00:50:45.5613 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:50:53.1220 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:50:53.1262 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:50:53.1759 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:50:53.1759 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:50:57.4189 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:50:57.4189 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:50:57.8660 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:50:57.8660 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:50:58.2541 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:50:58.2541 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:50:59.3747 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:50:59.3747 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:51:00.0502 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:51:00.0502 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:51:00.5648 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:51:00.5648 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:51:02.0352 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:51:02.0352 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:51:06.0752 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:51:06.0813 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:51:08.6467 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:51:08.6467 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 00:51:08.6467 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 00:51:08.7126 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:51:08.7185 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:51:08.7185 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:51:10.8976 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:51:10.8976 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:51:10.9559 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:51:10.9559 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:51:16.7386 INFO Executed DbCommand (4ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 00:51:16.7545 INFO Executed DbCommand (4ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingDate] DESC 
2025-05-11 00:51:18.3364 INFO Executed DbCommand (1ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 00:51:18.3364 INFO Executed DbCommand (1ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingDate] DESC 
2025-05-11 00:51:21.0170 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:51:21.0170 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:51:22.2353 INFO Executed DbCommand (2ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 00:51:22.2353 INFO Executed DbCommand (1ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingDate] DESC 
2025-05-11 00:51:23.8269 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:51:23.8269 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:51:26.9392 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:51:26.9392 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 00:51:26.9392 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 00:51:26.9940 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:51:26.9966 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:51:26.9966 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:52:25.5422 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 00:52:26.3550 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:52:26.3606 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:52:26.4067 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:52:26.4067 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:52:31.8455 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:52:31.8455 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 00:52:31.8455 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 00:52:31.9036 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:52:31.9036 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:52:31.9036 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:52:34.3944 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:52:34.3944 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:52:34.4535 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:52:34.4535 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:52:37.2107 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:52:37.2107 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 00:52:37.2107 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 00:52:37.2562 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:52:37.2562 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:52:37.2562 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:55:45.7218 INFO Executed DbCommand (44ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:55:45.8163 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 00:55:46.0797 INFO Now listening on: http://localhost:5062 
2025-05-11 00:55:46.1399 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 00:55:46.1399 INFO Hosting environment: Development 
2025-05-11 00:55:46.1399 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 00:56:10.1721 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 00:56:10.2867 INFO Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 00:56:10.3143 INFO Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:56:10.3143 INFO Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:56:10.3288 INFO Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 00:56:10.3288 INFO Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 00:56:10.3404 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:56:10.3404 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 00:56:10.3404 INFO Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 00:56:10.3404 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:56:10.3607 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 00:56:10.3607 WARN admin 
2025-05-11 00:56:11.5351 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:56:11.5856 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:56:11.7618 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:56:11.7661 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:56:14.1178 INFO Executed DbCommand (4ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 00:56:14.1358 INFO Executed DbCommand (5ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingDate] DESC 
2025-05-11 00:56:15.2269 INFO Executed DbCommand (1ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 00:56:15.2269 INFO Executed DbCommand (1ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingDate] DESC 
2025-05-11 00:56:18.6093 INFO Executed DbCommand (1ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 00:56:18.6093 INFO Executed DbCommand (1ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingDate] DESC 
2025-05-11 00:56:19.5887 INFO Executed DbCommand (2ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 00:56:19.5911 INFO Executed DbCommand (1ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingDate] DESC 
2025-05-11 00:56:59.7866 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:56:59.8152 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 00:56:59.8263 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 00:56:59.9284 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:56:59.9653 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:56:59.9761 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:57:02.3563 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:57:02.3563 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:57:02.4138 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:57:02.4138 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:57:04.5097 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:57:04.5256 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:57:05.6586 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:57:05.6586 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:57:06.6644 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:57:06.6644 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:57:07.9390 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 00:57:07.9390 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 00:57:19.9832 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 00:57:19.9832 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 00:57:19.9832 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 00:57:20.0387 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 00:57:20.0387 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 00:57:20.0462 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:00:28.8258 INFO Executed DbCommand (49ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 01:00:28.9196 INFO Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 01:00:29.2095 INFO Now listening on: http://localhost:5062 
2025-05-11 01:00:29.2753 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 01:00:29.2753 INFO Hosting environment: Development 
2025-05-11 01:00:29.2753 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 01:00:43.1955 INFO Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 01:00:43.3120 INFO Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 01:00:43.3405 INFO Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 01:00:43.3445 INFO Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 01:00:43.3445 INFO Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 01:00:43.3605 INFO Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 01:00:43.3605 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 01:00:43.3605 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 01:00:43.3605 INFO Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 01:00:43.3605 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 01:00:43.3808 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 01:00:43.3808 WARN admin 
2025-05-11 01:00:44.4903 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:44.5617 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 01:00:44.7455 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:44.7715 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:00:46.5130 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:46.5130 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:00:46.9290 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:46.9478 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:00:47.2892 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:47.2943 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:00:48.3467 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:48.3467 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:00:49.1707 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:49.1905 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:00:49.8649 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:49.8649 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:00:50.3374 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:50.3410 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:00:50.9597 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:50.9597 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:00:52.9406 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:52.9406 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:00:53.5453 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:53.5453 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:00:53.9391 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:53.9391 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:00:54.3002 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:54.3002 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:00:54.8490 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:54.8490 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:00:55.7530 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:55.7530 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:00:57.0792 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:57.0792 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:00:57.4681 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:57.4681 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:00:57.7360 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:57.7360 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:00:59.1338 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:59.1403 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:00:59.5593 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:00:59.5664 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:01:00.0364 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:01:00.0442 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:01:00.4950 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:01:00.5023 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:01:00.9697 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:01:00.9697 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:01:01.2935 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:01:01.2935 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:01:09.4149 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:01:09.4198 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:01:10.1498 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:01:10.1564 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:01:14.1652 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:01:14.1652 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:01:16.7175 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:01:16.7175 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:01:18.2398 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:01:18.2398 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:01:19.6272 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:01:19.6272 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:01:25.6379 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:01:25.6643 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 01:01:25.6803 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 01:01:25.7863 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:01:25.8230 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 01:01:25.8308 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:01:26.7500 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:01:26.7645 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:01:26.7645 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:01:27.5816 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:01:27.5816 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 01:01:27.5816 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:01:28.1356 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:01:28.1381 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:01:28.1381 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:01:28.6484 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:01:28.6484 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 01:01:28.6484 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:01:30.2141 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:01:30.2293 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 01:01:30.2323 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:01:31.5705 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:01:31.5705 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:01:31.5760 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:01:34.6971 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:01:34.7133 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:01:34.7176 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:01:37.8479 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:01:37.8479 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 01:01:37.8479 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:01:40.5285 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:01:40.5285 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 01:01:40.5285 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:01:41.6875 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:01:41.6875 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:01:41.6875 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:01:43.5469 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:01:43.5469 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:01:43.5469 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:02:01.4738 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:02:01.4738 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 01:02:01.5273 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:02:01.5345 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:02:03.2653 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:02:03.2653 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:02:50.7904 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:02:50.7978 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 01:02:50.8629 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:02:50.8629 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:03:04.0003 INFO Executed DbCommand (53ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 01:03:04.1044 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 01:03:04.3986 INFO Now listening on: http://localhost:5062 
2025-05-11 01:03:04.4673 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 01:03:04.4673 INFO Hosting environment: Development 
2025-05-11 01:03:04.4673 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 01:03:08.6205 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 01:03:08.7398 INFO Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 01:03:08.7726 INFO Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 01:03:08.7726 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 01:03:08.7897 INFO Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 01:03:08.8031 INFO Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 01:03:08.8031 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 01:03:08.8031 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 01:03:08.8108 INFO Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 01:03:08.8108 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 01:03:08.8281 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 01:03:08.8281 WARN admin 
2025-05-11 01:03:10.1406 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:10.1911 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 01:03:10.3894 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:10.4129 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:03:11.8730 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:11.8907 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:03:12.4044 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:12.4044 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:03:13.0674 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:13.0674 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:03:14.5520 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:14.5720 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:03:15.2079 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:15.2079 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:03:15.6400 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:15.6400 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:03:16.8917 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:16.8917 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:03:19.0065 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:19.0065 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:03:19.5605 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:19.5605 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:03:25.1477 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:25.1563 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:03:26.4212 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:26.4212 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:03:27.5771 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:27.5771 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:03:28.7997 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:28.7997 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:03:54.8346 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:54.8346 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:03:55.3162 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:55.3162 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:03:55.8337 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:55.8337 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:03:57.1298 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:57.1298 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:03:58.5426 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:58.5494 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:03:59.0877 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:59.0877 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:03:59.8522 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:03:59.8522 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:04:00.2888 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:04:00.2888 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:04:02.9427 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:04:02.9732 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 01:04:02.9850 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 01:04:03.0853 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:04:03.1195 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 01:04:03.1264 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:04:04.6529 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:04:04.6709 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:04:04.6709 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:04:05.0653 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:04:05.0653 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 01:04:05.0653 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:04:05.9840 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:04:05.9840 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 01:04:06.0354 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:04:06.0354 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:04:09.5774 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 01:04:11.1764 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:04:11.1764 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 01:04:11.1764 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 01:04:11.2346 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:04:11.2346 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 01:04:11.2346 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:04:12.1223 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:04:12.1223 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 01:04:12.1708 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:04:12.1708 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:04:45.8965 INFO Executed DbCommand (51ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 01:04:45.9972 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 01:04:46.3524 INFO Now listening on: http://localhost:5062 
2025-05-11 01:04:46.4173 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 01:04:46.4173 INFO Hosting environment: Development 
2025-05-11 01:04:46.4173 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 01:05:07.3871 INFO Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 01:05:07.5089 INFO Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 01:05:07.5374 INFO Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 01:05:07.5374 INFO Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 01:05:07.5527 INFO Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 01:05:07.5527 INFO Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 01:05:07.5622 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 01:05:07.5622 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 01:05:07.5622 INFO Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 01:05:07.5622 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 01:05:07.5790 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 01:05:07.5790 WARN admin 
2025-05-11 01:05:09.5434 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:05:09.5960 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 01:05:09.7793 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:05:09.8013 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:05:11.0571 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:05:11.0757 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 01:05:11.4785 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:05:11.4785 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:05:13.0345 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:05:13.0619 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 01:05:13.0619 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 01:05:13.1670 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:05:13.2045 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 01:05:13.2045 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 01:05:14.0648 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 01:05:14.5681 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:05:14.5681 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 01:05:14.6131 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 01:05:14.6131 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 01:07:22.4031 INFO Executed DbCommand (45ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 01:07:22.5002 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 01:07:22.7743 INFO Now listening on: http://localhost:5062 
2025-05-11 01:07:22.8598 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 01:07:22.8598 INFO Hosting environment: Development 
2025-05-11 01:07:22.8598 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 01:07:28.2504 INFO Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:07:28.3297 INFO Executed DbCommand (4ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 01:07:35.6485 INFO Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:07:35.6485 INFO Executed DbCommand (0ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 01:07:48.2436 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:07:48.2473 INFO Executed DbCommand (2ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 01:07:50.7451 INFO Executed DbCommand (4ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 01:07:50.7531 INFO Người dùng mở trang đặt tour: "Tour Yên Tử – Hạ Long lễ hội xuân 2N1Đ" – Ngày đi: "01/12/2025" 
2025-05-11 01:07:50.8026 INFO Executed DbCommand (3ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 01:11:17.4173 INFO Executed DbCommand (47ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 01:11:17.5134 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 01:11:17.8039 INFO Now listening on: http://localhost:5062 
2025-05-11 01:11:17.8665 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 01:11:17.8665 INFO Hosting environment: Development 
2025-05-11 01:11:17.8665 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 01:11:20.4572 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:11:20.5495 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 01:11:20.6557 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 01:11:20.6909 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 01:11:20.8638 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:11:20.9848 INFO Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 01:11:21.9868 INFO Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:11:22.0123 INFO Executed DbCommand (3ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 01:11:23.1831 INFO Executed DbCommand (3ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 01:11:23.1886 INFO Người dùng mở trang đặt tour: "Tour Ba Vì – Làng Văn hóa 1N" – Ngày đi: "01/12/2025" 
2025-05-11 01:11:23.2076 INFO Executed DbCommand (2ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 01:11:59.4938 INFO Executed DbCommand (3ms) [Parameters=[@__TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t]
WHERE [t].[TourId] = @__TourId_0 
2025-05-11 01:11:59.5080 INFO Executed DbCommand (4ms) [Parameters=[@__TourId_0='?' (DbType = Int32), @__DepartureDate_Date_1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__TourId_0 AND CONVERT(date, [t].[DepartureDate]) = @__DepartureDate_Date_1 
2025-05-11 01:11:59.5163 INFO Executed DbCommand (2ms) [Parameters=[@__Email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__Email_0 
2025-05-11 01:11:59.6838 INFO Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p11='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([AdultQuantity], [BookingDate], [ChildQuantity], [DepartureDate], [PaymentMethod], [SpecialRequest], [TotalPrice], [TourId], [TourScheduleId], [UserId])
OUTPUT INSERTED.[BookingId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
UPDATE [TourSchedules] SET [RemainingSlot] = @p10
OUTPUT 1
WHERE [TourScheduleId] = @p11; 
2025-05-11 01:11:59.7090 INFO  Đặt tour thành công – TourID: 12, Tên tour: "Tour Ba Vì – Làng Văn hóa 1N", Ngày đi: "01/12/2025", Người đặt: "a", Email: "a@gmail.com", Số điện thoại: "1", Địa chỉ: "1", Người lớn: 1, Trẻ em: 1, Tổng tiền: "1.600.000" đ, Thanh toán: "Quầy" 
2025-05-11 01:11:59.7239 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:11:59.7239 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 01:11:59.7349 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 01:11:59.7349 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 01:11:59.8007 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:11:59.8121 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 01:12:01.5855 INFO Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:12:01.5855 INFO Executed DbCommand (2ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 01:12:03.1266 INFO Executed DbCommand (2ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 01:12:03.1266 INFO Người dùng mở trang đặt tour: "Tour Ba Vì – Làng Văn hóa 1N" – Ngày đi: "01/12/2025" 
2025-05-11 01:12:03.1266 INFO Executed DbCommand (2ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 01:16:05.4744 INFO Executed DbCommand (54ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 01:16:05.5907 INFO Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 01:16:06.0359 INFO Now listening on: http://localhost:5062 
2025-05-11 01:16:06.1039 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 01:16:06.1039 INFO Hosting environment: Development 
2025-05-11 01:16:06.1039 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 01:16:13.1788 INFO Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:16:13.2647 INFO Executed DbCommand (10ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 01:16:15.3579 INFO Executed DbCommand (3ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 01:16:15.3579 INFO Người dùng mở trang đặt tour: "Tour Yên Tử – Hạ Long lễ hội xuân 2N1Đ" – Ngày đi: "01/12/2025" 
2025-05-11 01:16:15.4209 INFO Executed DbCommand (3ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 01:21:08.9937 INFO Executed DbCommand (4ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 01:21:08.9937 INFO Người dùng mở trang đặt tour: "Tour Yên Tử – Hạ Long lễ hội xuân 2N1Đ" – Ngày đi: "01/12/2025" 
2025-05-11 01:21:08.9983 INFO Executed DbCommand (3ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 01:21:28.2162 INFO Executed DbCommand (45ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 01:21:28.3012 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 01:21:28.5770 INFO Now listening on: http://localhost:5062 
2025-05-11 01:21:28.6363 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 01:21:28.6363 INFO Hosting environment: Development 
2025-05-11 01:21:28.6363 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 01:21:31.9411 INFO Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:21:32.0262 INFO Executed DbCommand (4ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 01:21:33.0184 INFO Executed DbCommand (2ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 01:21:33.0184 INFO Người dùng mở trang đặt tour: "Tour Tràng An – Bái Đính 1N" – Ngày đi: "01/12/2025" 
2025-05-11 01:21:33.0971 INFO Executed DbCommand (5ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 01:27:41.7356 INFO Executed DbCommand (41ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 01:27:41.8315 INFO Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 01:27:42.0879 INFO Now listening on: http://localhost:5062 
2025-05-11 01:27:42.1535 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 01:27:42.1535 INFO Hosting environment: Development 
2025-05-11 01:27:42.1535 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 01:27:44.5463 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:27:44.6221 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 01:27:44.7179 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 01:27:44.7472 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 01:27:44.9086 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:27:44.9542 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 01:27:45.9720 INFO Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:27:45.9922 INFO Executed DbCommand (2ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 01:29:44.9924 INFO Executed DbCommand (40ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 01:29:45.0800 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 01:29:45.3293 INFO Now listening on: http://localhost:5062 
2025-05-11 01:29:45.4224 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 01:29:45.4224 INFO Hosting environment: Development 
2025-05-11 01:29:45.4224 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 01:29:48.0170 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:29:48.0927 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 01:29:48.1924 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 01:29:48.2217 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 01:29:48.3844 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:29:48.4303 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 01:29:49.5059 INFO Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:29:49.5251 INFO Executed DbCommand (2ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 01:29:49.6181 ERROR An unhandled exception has occurred while executing the request. System.InvalidOperationException: The following sections have been defined but have not been rendered by the page at '/Views/Shared/_Layout.cshtml': 'Styles'. To ignore an unrendered section call IgnoreSection("sectionName").
   at Microsoft.AspNetCore.Mvc.Razor.RazorPage.EnsureRenderedBodyOrSections()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at TourBookingWeb.Program.<>c.<<Main>b__0_7>d.MoveNext() in D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb\Program.cs:line 143
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-11 01:30:23.5837 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:30:23.5837 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 01:30:23.5948 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 01:30:23.5948 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 01:30:30.5837 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:30:30.6026 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 01:30:34.1785 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:30:34.1785 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 01:30:34.1880 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 01:30:34.1880 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 01:30:34.2492 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:30:34.2492 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 01:30:38.1342 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:30:38.1426 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 01:30:44.3740 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:30:44.3740 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 01:32:32.7254 INFO Executed DbCommand (40ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 01:32:32.8098 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 01:32:33.0415 INFO Now listening on: http://localhost:5062 
2025-05-11 01:32:33.0972 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 01:32:33.0972 INFO Hosting environment: Development 
2025-05-11 01:32:33.0972 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 01:32:36.3823 INFO Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:32:36.4524 INFO Executed DbCommand (4ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 01:33:17.8832 INFO Executed DbCommand (40ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 01:33:17.9631 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 01:33:18.1969 INFO Now listening on: http://localhost:5062 
2025-05-11 01:33:18.2514 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 01:33:18.2514 INFO Hosting environment: Development 
2025-05-11 01:33:18.2514 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 01:33:20.8862 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:33:20.9545 INFO Executed DbCommand (4ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 01:33:46.4325 INFO Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 01:33:46.4361 INFO Executed DbCommand (0ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 01:33:52.8046 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:33:52.8299 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 01:33:52.8778 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 01:33:52.9124 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 01:33:53.0624 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 01:33:53.1210 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 01:33:57.9705 INFO Executed DbCommand (2ms) [Parameters=[@__categoryId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[CategoryId] = @__categoryId_0 
2025-05-11 01:33:57.9870 INFO Executed DbCommand (6ms) [Parameters=[@__categoryId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[CategoryId] = @__categoryId_0
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 01:33:57.9870 INFO Executed DbCommand (1ms) [Parameters=[@__categoryId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[CategoryId] = @__categoryId_0 
2025-05-11 01:33:57.9870 INFO Executed DbCommand (1ms) [Parameters=[@__categoryId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[CategoryId] = @__categoryId_0
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 01:34:00.1483 INFO Executed DbCommand (1ms) [Parameters=[@__categoryId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[CategoryId] = @__categoryId_0 
2025-05-11 01:34:00.1483 INFO Executed DbCommand (1ms) [Parameters=[@__categoryId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[CategoryId] = @__categoryId_0
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 01:34:00.1566 INFO Executed DbCommand (1ms) [Parameters=[@__categoryId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[CategoryId] = @__categoryId_0 
2025-05-11 01:34:00.1566 INFO Executed DbCommand (1ms) [Parameters=[@__categoryId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[CategoryId] = @__categoryId_0
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 01:34:44.1100 INFO Executed DbCommand (38ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 01:34:44.1903 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 01:34:44.4396 INFO Now listening on: http://localhost:5062 
2025-05-11 01:34:44.4928 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 01:34:44.4928 INFO Hosting environment: Development 
2025-05-11 01:34:44.4928 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 02:08:05.2374 INFO Executed DbCommand (43ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 02:08:05.3250 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 02:08:05.5966 INFO Now listening on: http://localhost:5062 
2025-05-11 02:08:05.6462 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 02:08:05.6462 INFO Hosting environment: Development 
2025-05-11 02:08:05.6462 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 02:08:45.3862 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 02:08:45.4630 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 02:08:45.5520 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 02:08:45.5770 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 02:08:45.7308 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 02:08:45.7772 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 02:11:47.4235 INFO Executed DbCommand (49ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 02:11:47.5086 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 02:11:47.7565 INFO Now listening on: http://localhost:5062 
2025-05-11 02:11:47.8139 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 02:11:47.8139 INFO Hosting environment: Development 
2025-05-11 02:11:47.8139 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 02:13:34.4063 INFO Executed DbCommand (46ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 02:13:34.4963 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 02:13:34.7524 INFO Now listening on: http://localhost:5062 
2025-05-11 02:13:34.8301 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 02:13:34.8301 INFO Hosting environment: Development 
2025-05-11 02:13:34.8301 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 02:13:56.6871 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 02:13:56.7643 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 02:13:56.8473 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 02:13:56.8758 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 02:13:57.0307 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 02:13:57.0777 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 02:15:21.9043 INFO Executed DbCommand (41ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 02:15:21.9945 INFO Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 02:15:22.2602 INFO Now listening on: http://localhost:5062 
2025-05-11 02:15:22.3415 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 02:15:22.3415 INFO Hosting environment: Development 
2025-05-11 02:15:22.3415 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 02:19:17.7646 INFO Executed DbCommand (42ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 02:19:17.8551 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 02:19:18.1199 INFO Now listening on: http://localhost:5062 
2025-05-11 02:19:18.1781 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 02:19:18.1781 INFO Hosting environment: Development 
2025-05-11 02:19:18.1781 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 02:19:55.9790 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 02:19:56.0719 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 02:19:56.1752 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 02:19:56.2034 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 02:19:56.3839 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 02:19:56.4411 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 02:20:01.9497 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 02:20:01.9522 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 02:20:01.9522 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 02:20:01.9522 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 02:20:02.0341 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 02:20:02.0341 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 02:20:07.3922 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 02:20:07.3922 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 02:20:07.3922 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 02:20:07.3922 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 02:20:07.4517 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 02:20:07.4517 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 02:21:42.3955 INFO Executed DbCommand (42ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 02:21:42.4822 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 02:21:42.7212 INFO Now listening on: http://localhost:5062 
2025-05-11 02:21:42.7743 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 02:21:42.7743 INFO Hosting environment: Development 
2025-05-11 02:21:42.7743 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 02:22:47.9808 INFO Executed DbCommand (41ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 02:22:48.0663 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 02:22:48.3123 INFO Now listening on: http://localhost:5062 
2025-05-11 02:22:48.3682 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 02:22:48.3682 INFO Hosting environment: Development 
2025-05-11 02:22:48.3682 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 02:26:05.3245 INFO Executed DbCommand (47ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 02:26:05.4150 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 02:26:05.6995 INFO Now listening on: http://localhost:5062 
2025-05-11 02:26:05.7602 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 02:26:05.7602 INFO Hosting environment: Development 
2025-05-11 02:26:05.7602 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 02:31:06.7963 INFO Executed DbCommand (48ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 02:31:06.9025 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 02:31:07.2145 INFO Now listening on: http://localhost:5062 
2025-05-11 02:31:07.2844 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 02:31:07.2844 INFO Hosting environment: Development 
2025-05-11 02:31:07.2844 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 02:33:30.8112 INFO Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 02:33:30.8865 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 02:33:31.0152 INFO Now listening on: http://localhost:5062 
2025-05-11 02:33:31.0552 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 02:33:31.0552 INFO Hosting environment: Development 
2025-05-11 02:33:31.0552 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 02:35:28.3245 INFO Executed DbCommand (45ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 02:35:28.4131 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 02:35:28.7367 INFO Now listening on: http://localhost:5062 
2025-05-11 02:35:28.7974 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 02:35:28.7974 INFO Hosting environment: Development 
2025-05-11 02:35:28.7974 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 02:41:22.8523 INFO Executed DbCommand (42ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 02:41:22.9435 INFO Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 02:41:23.2334 INFO Now listening on: http://localhost:5062 
2025-05-11 02:41:23.2993 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 02:41:23.2993 INFO Hosting environment: Development 
2025-05-11 02:41:23.2993 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 02:41:39.8195 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 02:41:39.9052 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 02:41:40.0195 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 02:41:40.0536 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 02:41:40.2463 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 02:41:40.3044 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 02:41:43.5902 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 02:41:43.6083 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 02:41:44.3388 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 02:41:44.3434 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 02:43:42.9119 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 02:43:42.9200 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 02:43:42.9200 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 02:43:42.9200 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 02:43:42.9839 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 02:43:42.9839 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 02:48:58.0825 INFO Executed DbCommand (45ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 02:48:58.2032 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 02:48:58.4855 INFO Now listening on: http://localhost:5062 
2025-05-11 02:48:58.5436 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 02:48:58.5436 INFO Hosting environment: Development 
2025-05-11 02:48:58.5436 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 02:49:20.1865 INFO Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 02:49:20.2690 INFO Executed DbCommand (4ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 02:49:24.9247 INFO Executed DbCommand (2ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 02:49:24.9247 INFO Người dùng mở trang đặt tour: "Tour Tràng An – Bái Đính 1N" – Ngày đi: "01/12/2025" 
2025-05-11 02:49:24.9783 INFO Executed DbCommand (3ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 02:49:30.6783 INFO Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 02:49:30.6783 INFO Executed DbCommand (0ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 02:55:01.8174 INFO Executed DbCommand (44ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 02:55:01.9013 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 02:55:02.1833 INFO Now listening on: http://localhost:5062 
2025-05-11 02:55:02.2344 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 02:55:02.2344 INFO Hosting environment: Development 
2025-05-11 02:55:02.2344 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:01:06.7816 INFO Executed DbCommand (43ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:01:06.8682 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:01:07.1380 INFO Now listening on: http://localhost:5062 
2025-05-11 03:01:07.1924 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:01:07.1924 INFO Hosting environment: Development 
2025-05-11 03:01:07.1924 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:01:42.1288 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:01:42.2030 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:01:42.2843 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:01:42.3132 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:01:42.4553 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:01:42.5147 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:04:42.5836 INFO Executed DbCommand (42ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:04:42.6658 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:04:42.9387 INFO Now listening on: http://localhost:5062 
2025-05-11 03:04:42.9958 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:04:42.9958 INFO Hosting environment: Development 
2025-05-11 03:04:42.9958 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:06:37.9792 INFO Executed DbCommand (41ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:06:38.0650 INFO Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:06:38.3210 INFO Now listening on: http://localhost:5062 
2025-05-11 03:06:38.3783 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:06:38.3783 INFO Hosting environment: Development 
2025-05-11 03:06:38.3783 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:08:54.0751 INFO Executed DbCommand (42ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:08:54.1587 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:08:54.4071 INFO Now listening on: http://localhost:5062 
2025-05-11 03:08:54.4667 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:08:54.4667 INFO Hosting environment: Development 
2025-05-11 03:08:54.4667 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:10:11.1781 INFO Executed DbCommand (44ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:10:11.2738 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:10:11.6162 INFO Now listening on: http://localhost:5062 
2025-05-11 03:10:11.6807 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:10:11.6807 INFO Hosting environment: Development 
2025-05-11 03:10:11.6807 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:14:02.6981 INFO Executed DbCommand (49ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:14:02.7940 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:14:03.0738 INFO Now listening on: http://localhost:5062 
2025-05-11 03:14:03.1370 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:14:03.1370 INFO Hosting environment: Development 
2025-05-11 03:14:03.1370 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:15:29.2296 INFO Executed DbCommand (48ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:15:29.3334 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:15:29.6221 INFO Now listening on: http://localhost:5062 
2025-05-11 03:15:29.7051 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:15:29.7051 INFO Hosting environment: Development 
2025-05-11 03:15:29.7051 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:18:13.3747 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:18:13.4577 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:18:13.5508 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:18:13.5766 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:18:13.7406 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:18:13.7943 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:18:18.7593 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:18:18.7593 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:18:18.7682 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:18:18.7682 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:18:18.8204 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:18:18.8204 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:18:24.7826 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:18:24.7826 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:18:24.7826 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:18:24.7826 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:18:24.8480 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:18:24.8480 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:20:25.4295 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:20:25.4295 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:20:25.4377 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:20:25.4377 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:20:25.5094 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:20:25.5213 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:20:27.7923 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:20:27.7923 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:20:27.7966 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:20:27.7966 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:20:27.8502 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:20:27.8502 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:21:06.4016 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:21:06.4058 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:21:06.4058 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:21:06.4058 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:21:06.4665 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:21:06.4665 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:21:50.9495 INFO Executed DbCommand (48ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:21:51.0540 INFO Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:21:51.3518 INFO Now listening on: http://localhost:5062 
2025-05-11 03:21:51.4138 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:21:51.4138 INFO Hosting environment: Development 
2025-05-11 03:21:51.4138 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:22:29.5007 INFO Executed DbCommand (44ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:22:29.5895 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:22:29.8554 INFO Now listening on: http://localhost:5062 
2025-05-11 03:22:29.9143 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:22:29.9143 INFO Hosting environment: Development 
2025-05-11 03:22:29.9143 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:24:06.0600 INFO Executed DbCommand (49ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:24:06.1502 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:24:06.4515 INFO Now listening on: http://localhost:5062 
2025-05-11 03:24:06.5120 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:24:06.5126 INFO Hosting environment: Development 
2025-05-11 03:24:06.5126 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:24:28.2282 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:24:28.3052 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:24:28.3898 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:24:28.4135 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:24:28.5529 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:24:28.6025 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:26:20.2165 INFO Executed DbCommand (43ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:26:20.2988 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:26:20.5559 INFO Now listening on: http://localhost:5062 
2025-05-11 03:26:20.6120 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:26:20.6120 INFO Hosting environment: Development 
2025-05-11 03:26:20.6120 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:26:32.3457 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:26:32.4192 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:26:32.5008 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:26:32.5258 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:26:32.6701 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:26:32.7167 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:27:26.8089 INFO Executed DbCommand (61ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:27:26.8954 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:27:27.1539 INFO Now listening on: http://localhost:5062 
2025-05-11 03:27:27.2258 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:27:27.2258 INFO Hosting environment: Development 
2025-05-11 03:27:27.2258 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:27:32.1774 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:27:32.2511 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:27:32.3333 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:27:32.3589 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:27:32.6543 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:27:32.7084 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:27:46.3191 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:27:46.3191 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:27:46.3290 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:27:46.3290 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:27:46.5138 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:27:46.5138 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:27:50.0767 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:27:50.0767 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:27:50.0767 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:27:50.0767 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:27:50.2538 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:27:50.2538 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:28:11.1666 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:28:11.1711 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:28:11.1711 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:28:11.1711 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:28:11.3602 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:28:11.3602 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:29:47.6121 INFO Executed DbCommand (44ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:29:47.7069 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:29:47.9685 INFO Now listening on: http://localhost:5062 
2025-05-11 03:29:48.0421 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:29:48.0421 INFO Hosting environment: Development 
2025-05-11 03:29:48.0421 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:29:51.0437 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:29:51.1200 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:29:51.2242 INFO Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:29:51.2528 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:29:51.5501 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:29:51.6087 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:30:38.8643 INFO Executed DbCommand (51ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:30:38.9533 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:30:39.3057 INFO Now listening on: http://localhost:5062 
2025-05-11 03:30:39.3626 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:30:39.3626 INFO Hosting environment: Development 
2025-05-11 03:30:39.3626 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:30:41.5787 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:30:41.6566 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:30:41.7455 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:30:41.7700 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:30:42.0636 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:30:42.1156 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:31:47.8066 INFO Executed DbCommand (152ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:31:47.9492 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:31:48.3355 INFO Now listening on: http://localhost:5062 
2025-05-11 03:31:48.4013 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:31:48.4013 INFO Hosting environment: Development 
2025-05-11 03:31:48.4013 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:31:50.5633 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:31:50.6415 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:31:50.7350 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:31:50.7633 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:31:51.0422 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:31:51.0880 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:33:23.9508 INFO Executed DbCommand (45ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:33:24.0445 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:33:24.3332 INFO Now listening on: http://localhost:5062 
2025-05-11 03:33:24.3872 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:33:24.3872 INFO Hosting environment: Development 
2025-05-11 03:33:24.3872 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:33:27.4006 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:33:27.4701 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:33:27.5504 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:33:27.5773 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:33:27.8603 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:33:27.9126 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:33:42.2695 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:33:42.2695 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:33:42.2828 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:33:42.2828 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:33:42.4828 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:33:42.4989 INFO Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:35:50.7405 INFO Executed DbCommand (44ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:35:50.8227 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:35:51.1181 INFO Now listening on: http://localhost:5062 
2025-05-11 03:35:51.1744 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:35:51.1744 INFO Hosting environment: Development 
2025-05-11 03:35:51.1744 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:36:11.1732 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:36:11.2558 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:36:11.3673 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:36:11.3985 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:36:11.7007 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:36:11.7614 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:36:33.3101 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:36:33.3101 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:36:33.3101 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:36:33.3268 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:36:33.5134 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:36:33.5134 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:39:26.7986 INFO Executed DbCommand (44ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:39:26.8821 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:39:27.1503 INFO Now listening on: http://localhost:5062 
2025-05-11 03:39:27.2111 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:39:27.2111 INFO Hosting environment: Development 
2025-05-11 03:39:27.2111 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:39:31.3057 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:39:31.3925 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:39:31.4990 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:39:31.5278 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:39:31.8631 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:39:31.9246 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:40:40.1837 INFO Executed DbCommand (44ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:40:40.2724 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:40:40.5636 INFO Now listening on: http://localhost:5062 
2025-05-11 03:40:40.6263 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:40:40.6263 INFO Hosting environment: Development 
2025-05-11 03:40:40.6263 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:43:22.0148 INFO Executed DbCommand (44ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:43:22.1078 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:43:22.4537 INFO Now listening on: http://localhost:5062 
2025-05-11 03:43:22.5146 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:43:22.5146 INFO Hosting environment: Development 
2025-05-11 03:43:22.5146 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:45:20.7239 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:45:20.7426 INFO Executed DbCommand (4ms) [Parameters=[@__model_Email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__model_Email_0 
2025-05-11 03:45:20.8555 INFO Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-05-11 03:45:20.9620 INFO Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256), @p15='?' (Size = 200), @p16='?' (Size = 200), @p17='?' (Size = 200), @p18='?' (Size = 200), @p19='?' (Size = 200), @p20='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
INSERT INTO [Users] ([Address], [Email], [FullName], [Password], [Phone], [Role])
OUTPUT INSERTED.[UserId]
VALUES (@p15, @p16, @p17, @p18, @p19, @p20); 
2025-05-11 03:46:35.6073 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:46:35.6073 INFO Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-05-11 03:46:35.6322 INFO Executed DbCommand (12ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
OUTPUT 1
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15; 
2025-05-11 03:47:17.5150 INFO Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:47:54.1661 INFO Executed DbCommand (47ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:47:54.2676 INFO Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:47:54.5496 INFO Now listening on: http://localhost:5062 
2025-05-11 03:47:54.6104 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:47:54.6104 INFO Hosting environment: Development 
2025-05-11 03:47:54.6104 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:48:03.0814 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:48:03.1647 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 03:48:03.2747 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 03:48:03.3090 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 03:48:03.6015 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 03:48:03.6535 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 03:51:10.1076 INFO Executed DbCommand (47ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:51:10.2029 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:51:10.5005 INFO Now listening on: http://localhost:5062 
2025-05-11 03:51:10.5610 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:51:10.5610 INFO Hosting environment: Development 
2025-05-11 03:51:10.5610 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:52:31.7086 INFO Executed DbCommand (47ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:52:31.8020 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:52:32.1459 INFO Now listening on: http://localhost:5062 
2025-05-11 03:52:32.2067 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:52:32.2067 INFO Hosting environment: Development 
2025-05-11 03:52:32.2067 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 03:54:50.8762 INFO Executed DbCommand (44ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 03:54:50.9612 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 03:54:51.2466 INFO Now listening on: http://localhost:5062 
2025-05-11 03:54:51.3043 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 03:54:51.3043 INFO Hosting environment: Development 
2025-05-11 03:54:51.3043 INFO Content root path: D:\HK2-2024-2025\Công Nghệ .Net\CuoiKy\TourBookingWeb (1)\TourBookingWeb\TourBookingWeb 
2025-05-11 08:09:40.3955 INFO Executed DbCommand (821ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 08:09:40.6047 INFO Executed DbCommand (64ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 08:09:41.2188 INFO Now listening on: http://localhost:5062 
2025-05-11 08:09:41.2941 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 08:09:41.2941 INFO Hosting environment: Development 
2025-05-11 08:09:41.2941 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb (1) (1)\TourBookingWeb 
2025-05-11 08:10:00.5354 INFO Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:10:00.5354 INFO Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:10:00.7207 INFO Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 08:10:00.7207 INFO Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 08:10:00.9172 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 08:10:00.9172 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 08:10:00.9886 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 08:10:00.9886 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 08:10:01.3591 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:10:01.4808 INFO Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 08:10:04.2320 INFO Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 08:10:04.2617 INFO Executed DbCommand (5ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 08:10:32.8786 INFO Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:10:32.8867 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 08:10:32.8867 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 08:10:32.9003 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 08:10:32.9173 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:10:32.9173 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 08:10:32.9310 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 08:10:32.9310 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 08:10:33.0066 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:10:33.0314 INFO Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 08:10:41.0806 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:10:41.0911 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 08:10:41.0911 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 08:10:41.1045 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 08:10:41.4684 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:10:41.4902 INFO Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 08:10:58.7512 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:10:58.7610 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 08:10:58.7610 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 08:10:58.7610 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 08:10:59.1649 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:10:59.1828 INFO Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 08:11:06.8598 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:11:06.8748 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 08:11:06.8748 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 08:11:06.8949 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 08:11:07.2785 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:11:07.2973 INFO Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 08:11:44.8594 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:11:44.8594 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 08:11:44.8741 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 08:11:44.8741 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 08:11:45.1762 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:11:45.1968 INFO Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 08:12:06.0570 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:12:06.0690 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 08:12:06.0752 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 08:12:06.0752 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 08:12:06.1680 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:12:06.1680 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 08:12:58.0592 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:12:58.0592 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 08:12:58.0744 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 08:12:58.0744 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 08:12:58.1461 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:12:58.1657 INFO Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 08:13:03.1408 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:13:03.1513 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 08:13:03.1513 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 08:13:03.1513 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 08:13:03.2308 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:13:03.2469 INFO Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 08:13:04.7489 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 08:13:04.7489 INFO Executed DbCommand (2ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 08:13:25.4116 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:13:25.4192 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 08:13:25.4192 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 08:13:25.4192 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 08:13:25.9774 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:13:25.9990 INFO Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 08:13:47.5315 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:13:47.5315 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 08:13:47.5452 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 08:13:47.5452 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 08:13:47.6170 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:13:47.6339 INFO Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 08:19:13.6586 INFO Executed DbCommand (83ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 08:19:13.8766 INFO Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 08:19:14.5019 INFO Now listening on: http://localhost:5062 
2025-05-11 08:19:14.6012 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 08:19:14.6022 INFO Hosting environment: Development 
2025-05-11 08:19:14.6022 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb (1) (1)\TourBookingWeb 
2025-05-11 08:19:35.7459 INFO Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 08:19:36.0381 INFO Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 08:19:36.0942 INFO Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 08:19:36.0942 INFO Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 08:19:36.1160 INFO Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 08:19:36.1282 INFO Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 08:19:36.1282 INFO Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 08:19:36.1342 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 08:19:36.1342 INFO Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 08:19:36.1342 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 08:19:36.1622 INFO Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 08:19:36.1714 WARN admin 
2025-05-11 08:19:38.7292 INFO Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:19:39.0608 INFO Executed DbCommand (248ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 08:19:39.3483 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:19:39.5499 INFO Executed DbCommand (179ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 08:19:46.5138 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:19:48.9243 INFO Executed DbCommand (86ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:19:48.9374 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 08:19:48.9491 INFO Executed DbCommand (2,412ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 08:19:48.9820 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:19:48.9820 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 08:19:51.8624 INFO Executed DbCommand (197ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:19:51.9217 INFO Executed DbCommand (56ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 08:19:53.8307 INFO Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:19:53.8444 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 08:19:55.2782 INFO Executed DbCommand (63ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:19:55.2782 INFO Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:19:55.2941 INFO Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 08:19:55.2941 INFO Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 08:19:56.8543 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:19:56.8543 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 08:19:57.8618 INFO Executed DbCommand (190ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:19:57.8950 INFO Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 08:19:59.7547 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:19:59.7668 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 08:20:10.0077 INFO Executed DbCommand (15ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 08:20:10.0460 INFO Executed DbCommand (13ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] 
2025-05-11 08:20:11.4123 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:20:11.4272 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 08:20:14.0786 INFO Executed DbCommand (24ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 08:20:14.0895 INFO Executed DbCommand (8ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] 
2025-05-11 08:20:15.7245 INFO Executed DbCommand (195ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 08:20:15.7362 INFO Executed DbCommand (10ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] 
2025-05-11 08:20:17.3217 INFO Executed DbCommand (105ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:20:17.3217 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 08:20:20.3698 INFO Executed DbCommand (7ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 08:20:20.3698 INFO Executed DbCommand (7ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] 
2025-05-11 08:20:21.6097 INFO Executed DbCommand (7ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 08:20:21.6207 INFO Executed DbCommand (9ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] 
2025-05-11 08:20:23.1654 INFO Executed DbCommand (8ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 08:20:23.2590 INFO Executed DbCommand (91ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] 
2025-05-11 08:20:25.9443 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:20:25.9536 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 08:20:27.5630 INFO Executed DbCommand (10ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 08:20:27.5730 INFO Executed DbCommand (8ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] 
2025-05-11 08:20:28.3879 INFO Executed DbCommand (7ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 08:20:28.3879 INFO Executed DbCommand (9ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] 
2025-05-11 08:20:31.5626 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:20:31.5743 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 08:20:35.5544 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:20:35.5544 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 08:20:36.6997 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:20:36.7141 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 08:20:45.6620 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:20:45.6703 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 08:20:47.6891 INFO Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:20:47.7038 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 08:20:55.4485 INFO Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 08:20:59.9335 INFO Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 08:20:59.9907 INFO Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 08:21:00.0147 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 08:21:00.1962 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:21:00.2655 INFO Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 08:21:00.2758 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 08:21:06.9298 INFO Executed DbCommand (192ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:21:06.9558 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 08:21:06.9653 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 08:21:19.4305 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:21:19.4455 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 08:21:19.4619 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:21:19.4619 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 08:21:19.5308 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:21:19.5472 INFO Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 08:21:21.6028 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:21:21.6314 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 08:21:22.2827 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:21:22.2910 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 08:21:23.2211 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:21:23.2387 INFO Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 08:21:24.6998 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:21:24.6998 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 08:21:25.3633 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:21:25.3700 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 08:21:35.9638 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:21:35.9797 INFO Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 08:21:36.0701 INFO Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:21:36.1325 INFO Executed DbCommand (59ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 08:21:46.7792 INFO Executed DbCommand (793ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:21:46.7946 INFO Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 08:21:46.8549 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:21:46.8697 INFO Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 08:43:33.7001 INFO Executed DbCommand (130ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 08:43:33.8569 INFO Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 08:43:34.4726 INFO Now listening on: http://localhost:5062 
2025-05-11 08:43:34.5620 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 08:43:34.5620 INFO Hosting environment: Development 
2025-05-11 08:43:34.5620 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb (1) (1)\TourBookingWeb 
2025-05-11 08:43:48.2224 INFO Executed DbCommand (35ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 08:43:48.2391 WARN ❌ Không tìm thấy tour với ID = 0 
2025-05-11 08:45:40.1154 INFO Executed DbCommand (498ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 08:45:40.2546 INFO Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 08:45:40.7882 INFO Now listening on: http://localhost:5062 
2025-05-11 08:45:40.8786 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 08:45:40.8786 INFO Hosting environment: Development 
2025-05-11 08:45:40.8786 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb (1) (1)\TourBookingWeb 
2025-05-11 08:46:03.1465 INFO Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 08:46:03.4066 INFO Executed DbCommand (12ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 08:46:03.4636 INFO Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 08:46:03.4636 INFO Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 08:46:03.4851 INFO Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 08:46:03.5007 INFO Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 08:46:03.5007 INFO Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 08:46:03.5007 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 08:46:03.5007 INFO Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 08:46:03.5135 INFO Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 08:46:03.5789 INFO Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 08:46:03.5865 WARN admin 
2025-05-11 08:46:16.9290 INFO Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:46:17.0598 INFO Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 08:46:17.3924 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:46:17.4272 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 08:46:21.3287 INFO Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 08:46:21.3474 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 08:46:21.3647 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 08:46:21.3863 INFO Executed DbCommand (5ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 08:46:23.9292 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:46:23.9494 INFO Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 08:46:23.9702 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:46:23.9702 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 08:46:24.0436 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 08:46:24.0574 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 08:46:25.9171 INFO Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 08:46:25.9171 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 08:46:25.9419 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 08:46:25.9651 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 08:46:26.8222 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:47:14.2550 INFO Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 08:47:14.3559 INFO Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 08:47:14.3620 INFO Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 08:47:14.3620 INFO Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 08:47:14.3673 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 08:47:14.3673 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 08:47:14.3673 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 08:47:14.3673 WARN  
2025-05-11 08:47:28.1986 INFO Executed DbCommand (11ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 08:47:53.0592 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:47:53.1436 INFO Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 08:47:53.1924 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 08:47:53.2311 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 08:47:53.6593 INFO Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:47:53.7914 INFO Executed DbCommand (46ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 08:47:55.0571 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 08:47:55.0826 INFO Executed DbCommand (4ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 08:47:55.0826 INFO Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 08:47:55.0826 INFO Executed DbCommand (1ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 08:48:42.7425 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:48:42.7533 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 08:48:42.7626 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 08:48:42.7626 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 08:48:42.8565 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:48:42.8819 INFO Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 08:50:40.8338 INFO Executed DbCommand (104ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 08:50:41.0070 INFO Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 08:50:41.7359 INFO Now listening on: http://localhost:5062 
2025-05-11 08:50:41.8445 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 08:50:41.8445 INFO Hosting environment: Development 
2025-05-11 08:50:41.8445 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb (1) (1)\TourBookingWeb 
2025-05-11 08:51:04.6424 INFO Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 08:51:04.8856 INFO Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 08:51:04.9500 INFO Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 08:51:04.9719 INFO Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 08:51:04.9791 INFO Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 08:51:04.9791 INFO Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 08:51:05.0646 INFO Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 08:51:05.0730 WARN  
2025-05-11 08:51:07.8235 INFO Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 08:51:07.8235 INFO Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 08:51:55.7160 ERROR An error occurred using the connection to database 'TourBookingDB' on server '.\SQLEXPRESS'. 
2025-05-11 08:51:55.8388 ERROR An exception occurred while iterating over the results of a query for context type 'TourBookingWeb.Data.TourDBContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=74; handshake=41; [Login] initialization=2; authentication=7; [Post-Login] complete=14015; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bce6809d-d3d9-41b7-955b-f606ab2b1735
Error Number:-2,State:0,Class:11 Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=74; handshake=41; [Login] initialization=2; authentication=7; [Post-Login] complete=14015; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:bce6809d-d3d9-41b7-955b-f606ab2b1735
Error Number:-2,State:0,Class:11
2025-05-11 08:52:24.3724 INFO Executed DbCommand (216ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 08:52:24.5222 INFO Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 08:52:25.0511 INFO Now listening on: http://localhost:5062 
2025-05-11 08:52:25.1780 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 08:52:25.1780 INFO Hosting environment: Development 
2025-05-11 08:52:25.1780 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb (1) (1)\TourBookingWeb 
2025-05-11 08:52:31.7359 INFO Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 08:53:41.1385 INFO Executed DbCommand (77ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 08:53:41.2594 INFO Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 08:53:41.7373 INFO Now listening on: http://localhost:5062 
2025-05-11 08:53:41.8131 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 08:53:41.8131 INFO Hosting environment: Development 
2025-05-11 08:53:41.8131 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb (1) (1)\TourBookingWeb 
2025-05-11 08:53:50.8811 INFO Executed DbCommand (10ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 08:53:58.0488 INFO Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:53:58.2021 INFO Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 08:53:58.3480 INFO Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 08:53:58.4053 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 08:53:58.8821 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 08:53:59.0577 INFO Executed DbCommand (111ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 08:54:00.7997 INFO Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 08:54:00.8277 INFO Executed DbCommand (6ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 08:59:23.0668 ERROR An error occurred using the connection to database 'TourBookingDB' on server '.\SQLEXPRESS'. 
2025-05-11 08:59:23.1769 ERROR An exception occurred while iterating over the results of a query for context type 'TourBookingWeb.Data.TourDBContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=53; handshake=32; [Login] initialization=1; authentication=6; [Post-Login] complete=14023; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:330367e9-b720-4597-8e36-cacb662b6b76
Error Number:-2,State:0,Class:11 Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=53; handshake=32; [Login] initialization=1; authentication=6; [Post-Login] complete=14023; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:330367e9-b720-4597-8e36-cacb662b6b76
Error Number:-2,State:0,Class:11
2025-05-11 09:01:16.7327 INFO Executed DbCommand (118ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 09:01:16.8612 INFO Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 09:01:17.3658 INFO Now listening on: http://localhost:5062 
2025-05-11 09:01:17.4506 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 09:01:17.4506 INFO Hosting environment: Development 
2025-05-11 09:01:17.4506 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb (1) (1)\TourBookingWeb 
2025-05-11 09:02:45.2902 INFO Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:02:45.4903 INFO Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 09:02:45.7056 INFO Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 09:02:45.8425 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 09:02:46.6445 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:02:46.8452 INFO Executed DbCommand (78ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 09:02:48.8805 INFO Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 09:02:48.9212 INFO Executed DbCommand (5ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 09:05:07.0307 INFO Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:05:07.0679 INFO Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 09:05:07.0860 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 09:05:07.0921 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 09:05:07.2053 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:05:07.2294 INFO Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 09:05:08.6341 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 09:05:08.6458 INFO Executed DbCommand (4ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 09:05:20.6416 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:05:20.6526 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 09:05:20.6526 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 09:05:20.6654 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 09:06:57.5078 INFO Executed DbCommand (128ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 09:06:57.6482 INFO Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 09:06:58.3487 INFO Now listening on: http://localhost:5062 
2025-05-11 09:06:58.4272 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 09:06:58.4272 INFO Hosting environment: Development 
2025-05-11 09:06:58.4272 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb (1) (1)\TourBookingWeb 
2025-05-11 09:08:46.3212 INFO Executed DbCommand (106ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:08:46.5279 INFO Executed DbCommand (63ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 09:08:46.6829 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 09:08:46.7360 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 09:08:47.2933 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:08:47.4097 INFO Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 09:08:48.3488 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 09:08:48.3844 INFO Executed DbCommand (6ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 09:10:30.4401 INFO Executed DbCommand (81ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:10:30.4968 INFO Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 09:10:30.5208 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 09:10:30.5279 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 09:10:31.0150 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:10:31.1005 INFO Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 09:10:32.2039 INFO Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 09:10:32.2039 INFO Executed DbCommand (4ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 09:12:48.0185 INFO Executed DbCommand (94ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 09:13:18.4057 INFO Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 09:19:12.2921 INFO Executed DbCommand (105ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 09:19:12.4137 INFO Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 09:19:12.8289 INFO Now listening on: http://localhost:5062 
2025-05-11 09:19:12.8987 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 09:19:12.8987 INFO Hosting environment: Development 
2025-05-11 09:19:12.8987 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb (1) (1)\TourBookingWeb 
2025-05-11 09:19:22.9135 INFO Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 09:19:46.8322 INFO Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:19:47.0025 INFO Executed DbCommand (43ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 09:19:47.3413 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:19:47.3783 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 09:20:02.5493 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:20:02.6274 INFO Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 09:20:02.6752 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 09:20:02.7066 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 09:20:03.1743 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:20:03.3383 INFO Executed DbCommand (63ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 09:20:12.0702 INFO Executed DbCommand (19ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 09:20:12.1077 INFO Executed DbCommand (14ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 09:20:13.3384 INFO Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 09:20:13.3664 INFO Executed DbCommand (4ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 09:20:38.1909 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:20:38.2227 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 09:20:39.5187 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:20:39.5377 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 09:23:14.2811 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:23:14.3130 INFO Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 09:23:28.4537 INFO Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 09:23:28.4718 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 09:23:28.5016 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 09:23:28.5253 INFO Executed DbCommand (6ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 09:23:50.2108 INFO Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:23:50.2347 INFO Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 09:23:50.3066 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:23:50.3066 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 09:23:51.3087 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:23:55.6653 INFO Executed DbCommand (7ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 09:23:55.6948 INFO Executed DbCommand (5ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 09:23:55.7904 INFO Executed DbCommand (13ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Key] AS [Region], COUNT(*) AS [Count]
FROM (
    SELECT CASE
        WHEN [t].[CategoryId] = 1 THEN N'Miền Bắc'
        ELSE N'Miền Nam'
    END AS [Key]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [s]
GROUP BY [s].[Key] 
2025-05-11 09:23:55.8084 INFO Executed DbCommand (7ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [b].[PaymentMethod] 
2025-05-11 09:23:55.8258 INFO Executed DbCommand (5ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 09:23:55.8258 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:24:13.3046 INFO Executed DbCommand (6ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 09:24:13.3176 INFO Người dùng mở trang đặt tour: "Tour Mai Châu bản Lác 2N1Đ" – Ngày đi: "29/12/2025" 
2025-05-11 09:24:13.3469 INFO Executed DbCommand (6ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 09:24:39.1750 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:24:39.1865 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 09:24:39.2418 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:24:39.2530 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 09:24:43.7256 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:24:43.7362 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 09:24:44.5484 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:24:44.5484 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 09:24:45.2676 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:24:45.2676 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 09:24:46.8706 INFO Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 09:24:46.8706 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 09:24:46.8706 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 09:24:46.8869 INFO Executed DbCommand (5ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 09:24:56.3841 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:24:56.4028 INFO Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 09:25:21.4034 INFO Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 09:25:21.4165 INFO Executed DbCommand (4ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 09:25:24.3418 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 09:25:24.3418 INFO Executed DbCommand (3ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 09:26:51.9872 INFO Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 09:26:51.9931 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 09:26:51.9931 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 09:26:51.9931 INFO Executed DbCommand (3ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 09:28:13.9417 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:28:13.9533 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 09:28:17.5163 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:28:17.5253 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 09:28:18.0301 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:28:18.0301 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 09:28:24.0540 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:28:24.0626 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 09:28:48.1036 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:28:48.1209 INFO Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 09:28:48.1209 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 09:28:48.1416 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 09:28:51.6975 INFO Executed DbCommand (13ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 09:28:51.7243 INFO Executed DbCommand (17ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 09:28:52.8540 INFO Executed DbCommand (5ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 09:28:52.8671 INFO Executed DbCommand (11ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 09:28:53.2559 INFO Executed DbCommand (6ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 09:28:53.2705 INFO Executed DbCommand (12ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 09:28:54.1626 INFO Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 09:28:54.1697 INFO Executed DbCommand (5ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 09:35:01.9154 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:35:03.1046 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 09:35:03.1260 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 09:35:14.1752 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 09:35:14.1752 INFO Executed DbCommand (4ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 09:35:39.6025 INFO Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 09:35:39.9747 INFO Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 09:35:40.0151 INFO Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 09:35:40.0151 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 09:35:40.0359 INFO Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 09:35:40.0740 INFO Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 09:35:40.0740 INFO Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 09:35:40.0740 INFO Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 09:35:40.0867 INFO Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 09:35:40.0867 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 09:35:40.1218 INFO Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 09:35:40.1218 WARN admin 
2025-05-11 09:35:44.7463 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:35:44.7623 INFO Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 09:35:44.8729 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:35:44.8905 INFO Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 09:35:49.7930 INFO Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 09:35:49.7930 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 09:35:49.7930 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 09:35:49.8057 INFO Executed DbCommand (3ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 09:35:54.5189 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:35:54.5321 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 09:35:54.8036 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:35:54.8177 INFO Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 09:36:05.5781 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:36:05.5926 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 09:36:05.5926 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 09:36:05.6084 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 09:36:05.8119 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:36:05.8338 INFO Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 09:36:06.5453 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:36:06.5564 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 09:36:06.5773 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 09:36:06.5773 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 09:36:07.1755 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:36:07.1933 INFO Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 09:36:30.4679 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:36:30.4828 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 09:36:42.1378 INFO Executed DbCommand (6ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 09:36:42.1378 INFO Executed DbCommand (10ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 09:36:43.0244 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 09:36:43.0244 INFO Executed DbCommand (4ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 09:36:52.5964 INFO Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 09:36:52.5964 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 09:36:52.5964 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 09:36:52.6085 INFO Executed DbCommand (4ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 09:37:01.8978 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
LEFT JOIN [TourSchedules] AS [t] ON [b].[TourScheduleId] = [t].[TourScheduleId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 09:37:01.9086 INFO Executed DbCommand (3ms) [Parameters=[@__existing_TourScheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__existing_TourScheduleId_0 
2025-05-11 09:37:01.9183 INFO Executed DbCommand (2ms) [Parameters=[@__booking_TourScheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__booking_TourScheduleId_0 
2025-05-11 09:37:01.9183 INFO Executed DbCommand (3ms) [Parameters=[@__existing_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t]
WHERE [t].[TourId] = @__existing_TourId_0 
2025-05-11 09:37:02.1683 INFO Executed DbCommand (14ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p4='?' (DbType = Int32), @p3='?' (DbType = Int32), @p6='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Bookings] SET [DepartureDate] = @p0, [TourScheduleId] = @p1
OUTPUT 1
WHERE [BookingId] = @p2;
UPDATE [TourSchedules] SET [RemainingSlot] = @p3
OUTPUT 1
WHERE [TourScheduleId] = @p4;
UPDATE [TourSchedules] SET [RemainingSlot] = @p5
OUTPUT 1
WHERE [TourScheduleId] = @p6; 
2025-05-11 09:37:02.1879 INFO Admin đã chỉnh sửa booking #21 – Người đặt: Dương Phước Thuận 
2025-05-11 09:37:02.2017 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:37:02.2017 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 09:37:02.2539 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:37:02.2678 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 09:37:05.7339 INFO Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 09:37:05.7339 INFO Executed DbCommand (5ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 09:41:42.9913 INFO Executed DbCommand (43ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:41:43.0483 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 09:41:44.0046 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 09:41:44.0153 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 09:44:31.5833 INFO Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 09:44:31.6175 INFO Executed DbCommand (5ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 09:44:37.6699 INFO Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 09:44:37.7624 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 09:44:37.7795 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 09:44:38.1506 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:44:38.2021 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 09:44:38.2021 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 09:44:46.1660 INFO Executed DbCommand (6ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 09:44:46.1989 INFO Executed DbCommand (9ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 09:44:46.1989 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 09:44:46.7457 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 09:44:46.7457 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 09:44:46.7576 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 09:44:48.0324 INFO Executed DbCommand (6ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 09:44:48.0324 INFO Executed DbCommand (4ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 09:44:48.0438 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 09:44:52.7335 INFO Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 09:44:52.7725 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 09:44:58.6227 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 09:44:58.6476 INFO Executed DbCommand (6ms) [Parameters=[@__model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__model_TourId_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 09:44:58.6588 INFO Executed DbCommand (3ms) [Parameters=[@__model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__model_TourId_0 
2025-05-11 09:44:58.8437 INFO Executed DbCommand (71ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [TourSchedules]
OUTPUT 1
WHERE [TourScheduleId] = @p0;
DELETE FROM [TourSchedules]
OUTPUT 1
WHERE [TourScheduleId] = @p1;
DELETE FROM [TourSchedules]
OUTPUT 1
WHERE [TourScheduleId] = @p2;
DELETE FROM [TourSchedules]
OUTPUT 1
WHERE [TourScheduleId] = @p3;
DELETE FROM [TourSchedules]
OUTPUT 1
WHERE [TourScheduleId] = @p4;
MERGE [TourSchedules] USING (
VALUES (@p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, 1),
(@p13, @p14, @p15, @p16, 2),
(@p17, @p18, @p19, @p20, 3)) AS i ([DepartureDate], [RemainingSlot], [ReturnDate], [TourId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DepartureDate], [RemainingSlot], [ReturnDate], [TourId])
VALUES (i.[DepartureDate], i.[RemainingSlot], i.[ReturnDate], i.[TourId])
OUTPUT INSERTED.[TourScheduleId], i._Position; 
2025-05-11 09:44:58.9912 ERROR An exception occurred in the database while saving changes for context type 'TourBookingWeb.Data.TourDBContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Bookings_TourSchedules_TourScheduleId". The conflict occurred in database "TourBookingDB", table "dbo.Bookings", column 'TourScheduleId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:026d58ee-3abe-4652-bc41-078ecee8103a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess) Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Bookings_TourSchedules_TourScheduleId". The conflict occurred in database "TourBookingDB", table "dbo.Bookings", column 'TourScheduleId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnly(Int32 commandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
ClientConnectionId:026d58ee-3abe-4652-bc41-078ecee8103a
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2025-05-11 14:59:58.7087 INFO Executed DbCommand (264ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [TourBookingDB]; 
2025-05-11 14:59:58.8459 INFO Executed DbCommand (108ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [TourBookingDB] SET READ_COMMITTED_SNAPSHOT ON;
END; 
2025-05-11 14:59:58.8703 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1 
2025-05-11 14:59:58.8703 INFO Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long. 
2025-05-11 14:59:58.9127 INFO Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result 
2025-05-11 14:59:58.9682 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; 
2025-05-11 14:59:58.9682 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1 
2025-05-11 14:59:58.9682 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); 
2025-05-11 14:59:59.0060 INFO Executed DbCommand (27ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; 
2025-05-11 14:59:59.0156 INFO Applying migration '20250506041246_InitDb1'. 
2025-05-11 14:59:59.0462 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Categories] (
    [CategoryId] int NOT NULL IDENTITY,
    [CategoryName] nvarchar(200) NOT NULL,
    CONSTRAINT [PK_Categories] PRIMARY KEY ([CategoryId])
); 
2025-05-11 14:59:59.0462 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [UserId] int NOT NULL IDENTITY,
    [Email] nvarchar(200) NOT NULL,
    [FullName] nvarchar(200) NOT NULL,
    [Phone] nvarchar(200) NOT NULL,
    [Address] nvarchar(200) NOT NULL,
    [Password] nvarchar(200) NOT NULL,
    [Role] nvarchar(200) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([UserId])
); 
2025-05-11 14:59:59.0462 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Tours] (
    [TourId] int NOT NULL IDENTITY,
    [Title] nvarchar(200) NOT NULL,
    [Capacity] int NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [AdultPrice] decimal(18,2) NOT NULL,
    [ChildPrice] decimal(18,2) NOT NULL,
    [Transport] nvarchar(200) NOT NULL,
    [Departures] nvarchar(max) NOT NULL,
    [Destination] nvarchar(200) NOT NULL,
    [Duration] nvarchar(200) NOT NULL,
    [Itinerary] nvarchar(2000) NOT NULL,
    [CategoryId] int NOT NULL,
    CONSTRAINT [PK_Tours] PRIMARY KEY ([TourId]),
    CONSTRAINT [FK_Tours_Categories_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [Categories] ([CategoryId]) ON DELETE NO ACTION
); 
2025-05-11 14:59:59.0462 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Images] (
    [ImageId] int NOT NULL IDENTITY,
    [Url] nvarchar(200) NOT NULL,
    [Description] nvarchar(200) NOT NULL,
    [TourId] int NOT NULL,
    [DayNumber] int NULL,
    CONSTRAINT [PK_Images] PRIMARY KEY ([ImageId]),
    CONSTRAINT [FK_Images_Tours_TourId] FOREIGN KEY ([TourId]) REFERENCES [Tours] ([TourId]) ON DELETE CASCADE
); 
2025-05-11 14:59:59.0462 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [TourSchedules] (
    [Id] int NOT NULL IDENTITY,
    [TourId] int NOT NULL,
    [DepartureDate] datetime2 NOT NULL,
    [ReturnDate] datetime2 NOT NULL,
    [RemainingSlot] int NOT NULL,
    CONSTRAINT [PK_TourSchedules] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_TourSchedules_Tours_TourId] FOREIGN KEY ([TourId]) REFERENCES [Tours] ([TourId]) ON DELETE CASCADE
); 
2025-05-11 14:59:59.0574 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Bookings] (
    [BookingId] int NOT NULL IDENTITY,
    [BookingDate] datetime2 NOT NULL,
    [AdultQuantity] int NOT NULL,
    [ChildQuantity] int NOT NULL,
    [TotalPrice] decimal(18,2) NOT NULL,
    [SpecialRequest] nvarchar(200) NULL,
    [TourId] int NOT NULL,
    [UserId] int NOT NULL,
    [DepartureDate] datetime2 NOT NULL,
    [TourScheduleId] int NULL,
    [PaymentMethod] nvarchar(max) NULL,
    [CategoryId] int NULL,
    CONSTRAINT [PK_Bookings] PRIMARY KEY ([BookingId]),
    CONSTRAINT [FK_Bookings_Categories_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [Categories] ([CategoryId]),
    CONSTRAINT [FK_Bookings_TourSchedules_TourScheduleId] FOREIGN KEY ([TourScheduleId]) REFERENCES [TourSchedules] ([Id]),
    CONSTRAINT [FK_Bookings_Tours_TourId] FOREIGN KEY ([TourId]) REFERENCES [Tours] ([TourId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Bookings_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
); 
2025-05-11 14:59:59.0574 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Bookings_CategoryId] ON [Bookings] ([CategoryId]); 
2025-05-11 14:59:59.0574 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Bookings_TourId] ON [Bookings] ([TourId]); 
2025-05-11 14:59:59.0574 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Bookings_TourScheduleId] ON [Bookings] ([TourScheduleId]); 
2025-05-11 14:59:59.0574 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Bookings_UserId] ON [Bookings] ([UserId]); 
2025-05-11 14:59:59.0574 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Images_TourId] ON [Images] ([TourId]); 
2025-05-11 14:59:59.0574 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Tours_CategoryId] ON [Tours] ([CategoryId]); 
2025-05-11 14:59:59.0574 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_TourSchedules_TourId] ON [TourSchedules] ([TourId]); 
2025-05-11 14:59:59.0795 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250506041246_InitDb1', N'9.0.4'); 
2025-05-11 14:59:59.0795 INFO Applying migration '20250506173007_AddTourSchedule'. 
2025-05-11 14:59:59.0909 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250506173007_AddTourSchedule', N'9.0.4'); 
2025-05-11 14:59:59.0909 INFO Applying migration '20250507134435_DeleteForgeinKey'. 
2025-05-11 14:59:59.1192 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Bookings] DROP CONSTRAINT [FK_Bookings_Categories_CategoryId]; 
2025-05-11 14:59:59.1231 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Bookings] DROP CONSTRAINT [FK_Bookings_TourSchedules_TourScheduleId]; 
2025-05-11 14:59:59.1231 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Bookings_CategoryId] ON [Bookings]; 
2025-05-11 14:59:59.2105 INFO Executed DbCommand (85ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Tours]') AND [c].[name] = N'Departures');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [Tours] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [Tours] DROP COLUMN [Departures]; 
2025-05-11 14:59:59.2338 INFO Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Bookings]') AND [c].[name] = N'CategoryId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Bookings] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Bookings] DROP COLUMN [CategoryId]; 
2025-05-11 14:59:59.2338 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Bookings] ADD CONSTRAINT [FK_Bookings_TourSchedules_TourScheduleId] FOREIGN KEY ([TourScheduleId]) REFERENCES [TourSchedules] ([Id]) ON DELETE NO ACTION; 
2025-05-11 14:59:59.2338 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250507134435_DeleteForgeinKey', N'9.0.4'); 
2025-05-11 14:59:59.2338 INFO Applying migration '20250507161659_DeleteCagtegoryNavigation'. 
2025-05-11 14:59:59.2568 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Tours] DROP CONSTRAINT [FK_Tours_Categories_CategoryId]; 
2025-05-11 14:59:59.2568 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Tours] ADD CONSTRAINT [FK_Tours_Categories_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [Categories] ([CategoryId]) ON DELETE CASCADE; 
2025-05-11 14:59:59.2588 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250507161659_DeleteCagtegoryNavigation', N'9.0.4'); 
2025-05-11 14:59:59.2588 INFO Applying migration '20250508102523_AddIdentityTables'. 
2025-05-11 14:59:59.2861 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
); 
2025-05-11 14:59:59.2861 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
); 
2025-05-11 14:59:59.2861 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
); 
2025-05-11 14:59:59.2919 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
); 
2025-05-11 14:59:59.2919 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
); 
2025-05-11 14:59:59.2919 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
); 
2025-05-11 14:59:59.2919 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
); 
2025-05-11 14:59:59.2919 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]); 
2025-05-11 14:59:59.2919 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL; 
2025-05-11 14:59:59.2919 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]); 
2025-05-11 14:59:59.2919 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]); 
2025-05-11 14:59:59.2919 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]); 
2025-05-11 14:59:59.2919 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]); 
2025-05-11 14:59:59.2919 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL; 
2025-05-11 14:59:59.2919 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250508102523_AddIdentityTables', N'9.0.4'); 
2025-05-11 14:59:59.2919 INFO Applying migration '20250508171127_Final'. 
2025-05-11 14:59:59.3163 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250508171127_Final', N'9.0.4'); 
2025-05-11 14:59:59.3163 INFO Applying migration '20250510054812_InitDb'. 
2025-05-11 14:59:59.3280 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250510054812_InitDb', N'9.0.4'); 
2025-05-11 14:59:59.3280 INFO Applying migration '20250510070108_InitDb4'. 
2025-05-11 14:59:59.7443 INFO Executed DbCommand (396ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[TourSchedules].[Id]', N'TourScheduleId', 'COLUMN'; 
2025-05-11 14:59:59.7443 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250510070108_InitDb4', N'9.0.4'); 
2025-05-11 14:59:59.7443 INFO Applying migration '20250511075937_addIsDelete'. 
2025-05-11 14:59:59.7764 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [TourSchedules] ADD [IsDeleted] bit NOT NULL DEFAULT CAST(0 AS bit); 
2025-05-11 14:59:59.7764 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250511075937_addIsDelete', N'9.0.4'); 
2025-05-11 14:59:59.7833 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result 
2025-05-11 15:56:40.1511 INFO Executed DbCommand (309ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [TourBookingDB]; 
2025-05-11 15:56:40.3497 INFO Executed DbCommand (154ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [TourBookingDB] SET READ_COMMITTED_SNAPSHOT ON;
END; 
2025-05-11 15:56:40.3785 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1 
2025-05-11 15:56:40.3785 INFO Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long. 
2025-05-11 15:56:40.4137 INFO Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result 
2025-05-11 15:56:40.4978 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END; 
2025-05-11 15:56:40.4978 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1 
2025-05-11 15:56:40.5075 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]'); 
2025-05-11 15:56:40.5296 INFO Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId]; 
2025-05-11 15:56:40.5417 INFO Applying migration '20250506041246_InitDb1'. 
2025-05-11 15:56:40.5816 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Categories] (
    [CategoryId] int NOT NULL IDENTITY,
    [CategoryName] nvarchar(200) NOT NULL,
    CONSTRAINT [PK_Categories] PRIMARY KEY ([CategoryId])
); 
2025-05-11 15:56:40.5816 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Users] (
    [UserId] int NOT NULL IDENTITY,
    [Email] nvarchar(200) NOT NULL,
    [FullName] nvarchar(200) NOT NULL,
    [Phone] nvarchar(200) NOT NULL,
    [Address] nvarchar(200) NOT NULL,
    [Password] nvarchar(200) NOT NULL,
    [Role] nvarchar(200) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([UserId])
); 
2025-05-11 15:56:40.5891 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Tours] (
    [TourId] int NOT NULL IDENTITY,
    [Title] nvarchar(200) NOT NULL,
    [Capacity] int NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [AdultPrice] decimal(18,2) NOT NULL,
    [ChildPrice] decimal(18,2) NOT NULL,
    [Transport] nvarchar(200) NOT NULL,
    [Departures] nvarchar(max) NOT NULL,
    [Destination] nvarchar(200) NOT NULL,
    [Duration] nvarchar(200) NOT NULL,
    [Itinerary] nvarchar(2000) NOT NULL,
    [CategoryId] int NOT NULL,
    CONSTRAINT [PK_Tours] PRIMARY KEY ([TourId]),
    CONSTRAINT [FK_Tours_Categories_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [Categories] ([CategoryId]) ON DELETE NO ACTION
); 
2025-05-11 15:56:40.5891 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Images] (
    [ImageId] int NOT NULL IDENTITY,
    [Url] nvarchar(200) NOT NULL,
    [Description] nvarchar(200) NOT NULL,
    [TourId] int NOT NULL,
    [DayNumber] int NULL,
    CONSTRAINT [PK_Images] PRIMARY KEY ([ImageId]),
    CONSTRAINT [FK_Images_Tours_TourId] FOREIGN KEY ([TourId]) REFERENCES [Tours] ([TourId]) ON DELETE CASCADE
); 
2025-05-11 15:56:40.5891 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [TourSchedules] (
    [Id] int NOT NULL IDENTITY,
    [TourId] int NOT NULL,
    [DepartureDate] datetime2 NOT NULL,
    [ReturnDate] datetime2 NOT NULL,
    [RemainingSlot] int NOT NULL,
    CONSTRAINT [PK_TourSchedules] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_TourSchedules_Tours_TourId] FOREIGN KEY ([TourId]) REFERENCES [Tours] ([TourId]) ON DELETE CASCADE
); 
2025-05-11 15:56:40.5891 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Bookings] (
    [BookingId] int NOT NULL IDENTITY,
    [BookingDate] datetime2 NOT NULL,
    [AdultQuantity] int NOT NULL,
    [ChildQuantity] int NOT NULL,
    [TotalPrice] decimal(18,2) NOT NULL,
    [SpecialRequest] nvarchar(200) NULL,
    [TourId] int NOT NULL,
    [UserId] int NOT NULL,
    [DepartureDate] datetime2 NOT NULL,
    [TourScheduleId] int NULL,
    [PaymentMethod] nvarchar(max) NULL,
    [CategoryId] int NULL,
    CONSTRAINT [PK_Bookings] PRIMARY KEY ([BookingId]),
    CONSTRAINT [FK_Bookings_Categories_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [Categories] ([CategoryId]),
    CONSTRAINT [FK_Bookings_TourSchedules_TourScheduleId] FOREIGN KEY ([TourScheduleId]) REFERENCES [TourSchedules] ([Id]),
    CONSTRAINT [FK_Bookings_Tours_TourId] FOREIGN KEY ([TourId]) REFERENCES [Tours] ([TourId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Bookings_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
); 
2025-05-11 15:56:40.6030 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Bookings_CategoryId] ON [Bookings] ([CategoryId]); 
2025-05-11 15:56:40.6030 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Bookings_TourId] ON [Bookings] ([TourId]); 
2025-05-11 15:56:40.6030 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Bookings_TourScheduleId] ON [Bookings] ([TourScheduleId]); 
2025-05-11 15:56:40.6030 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Bookings_UserId] ON [Bookings] ([UserId]); 
2025-05-11 15:56:40.6030 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Images_TourId] ON [Images] ([TourId]); 
2025-05-11 15:56:40.6030 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Tours_CategoryId] ON [Tours] ([CategoryId]); 
2025-05-11 15:56:40.6030 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_TourSchedules_TourId] ON [TourSchedules] ([TourId]); 
2025-05-11 15:56:40.6231 INFO Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250506041246_InitDb1', N'9.0.4'); 
2025-05-11 15:56:40.6231 INFO Applying migration '20250506173007_AddTourSchedule'. 
2025-05-11 15:56:40.6354 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250506173007_AddTourSchedule', N'9.0.4'); 
2025-05-11 15:56:40.6354 INFO Applying migration '20250507134435_DeleteForgeinKey'. 
2025-05-11 15:56:40.6624 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Bookings] DROP CONSTRAINT [FK_Bookings_Categories_CategoryId]; 
2025-05-11 15:56:40.6644 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Bookings] DROP CONSTRAINT [FK_Bookings_TourSchedules_TourScheduleId]; 
2025-05-11 15:56:40.6644 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Bookings_CategoryId] ON [Bookings]; 
2025-05-11 15:56:40.8694 INFO Executed DbCommand (202ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Tours]') AND [c].[name] = N'Departures');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [Tours] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [Tours] DROP COLUMN [Departures]; 
2025-05-11 15:56:40.9119 INFO Executed DbCommand (42ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Bookings]') AND [c].[name] = N'CategoryId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Bookings] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Bookings] DROP COLUMN [CategoryId]; 
2025-05-11 15:56:40.9146 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Bookings] ADD CONSTRAINT [FK_Bookings_TourSchedules_TourScheduleId] FOREIGN KEY ([TourScheduleId]) REFERENCES [TourSchedules] ([Id]) ON DELETE NO ACTION; 
2025-05-11 15:56:40.9146 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250507134435_DeleteForgeinKey', N'9.0.4'); 
2025-05-11 15:56:40.9146 INFO Applying migration '20250507161659_DeleteCagtegoryNavigation'. 
2025-05-11 15:56:40.9401 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Tours] DROP CONSTRAINT [FK_Tours_Categories_CategoryId]; 
2025-05-11 15:56:40.9401 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Tours] ADD CONSTRAINT [FK_Tours_Categories_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [Categories] ([CategoryId]) ON DELETE CASCADE; 
2025-05-11 15:56:40.9488 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250507161659_DeleteCagtegoryNavigation', N'9.0.4'); 
2025-05-11 15:56:40.9488 INFO Applying migration '20250508102523_AddIdentityTables'. 
2025-05-11 15:56:40.9929 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
); 
2025-05-11 15:56:40.9950 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
); 
2025-05-11 15:56:40.9950 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
); 
2025-05-11 15:56:40.9950 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
); 
2025-05-11 15:56:40.9950 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
); 
2025-05-11 15:56:40.9950 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
); 
2025-05-11 15:56:40.9950 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
); 
2025-05-11 15:56:41.0123 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]); 
2025-05-11 15:56:41.0123 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL; 
2025-05-11 15:56:41.0123 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]); 
2025-05-11 15:56:41.0123 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]); 
2025-05-11 15:56:41.0123 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]); 
2025-05-11 15:56:41.0123 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]); 
2025-05-11 15:56:41.0123 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL; 
2025-05-11 15:56:41.0123 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250508102523_AddIdentityTables', N'9.0.4'); 
2025-05-11 15:56:41.0123 INFO Applying migration '20250508171127_Final'. 
2025-05-11 15:56:41.0368 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250508171127_Final', N'9.0.4'); 
2025-05-11 15:56:41.0368 INFO Applying migration '20250510054812_InitDb'. 
2025-05-11 15:56:41.0512 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250510054812_InitDb', N'9.0.4'); 
2025-05-11 15:56:41.0512 INFO Applying migration '20250510070108_InitDb4'. 
2025-05-11 15:56:41.5145 INFO Executed DbCommand (436ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
EXEC sp_rename N'[TourSchedules].[Id]', N'TourScheduleId', 'COLUMN'; 
2025-05-11 15:56:41.5145 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250510070108_InitDb4', N'9.0.4'); 
2025-05-11 15:56:41.5145 INFO Applying migration '20250511075937_addIsDelete'. 
2025-05-11 15:56:41.5560 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [TourSchedules] ADD [IsDeleted] bit NOT NULL DEFAULT CAST(0 AS bit); 
2025-05-11 15:56:41.5560 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250511075937_addIsDelete', N'9.0.4'); 
2025-05-11 15:56:41.5789 INFO Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result 
2025-05-11 15:57:25.8639 INFO Executed DbCommand (152ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 15:57:25.9466 INFO Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 15:57:26.1635 INFO Executed DbCommand (54ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3); 
2025-05-11 15:57:26.2056 INFO Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 15:57:26.3340 INFO Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-05-11 15:57:26.4041 INFO Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14); 
2025-05-11 15:57:26.4702 INFO Executed DbCommand (54ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0 
2025-05-11 15:57:26.5647 INFO Executed DbCommand (22ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1 
2025-05-11 15:57:26.5833 INFO Executed DbCommand (11ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0 
2025-05-11 15:57:26.6222 INFO Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-05-11 15:57:26.7104 INFO Executed DbCommand (43ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p16='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p17='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17; 
2025-05-11 15:57:27.4119 INFO Now listening on: http://localhost:5062 
2025-05-11 15:57:27.5933 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 15:57:27.5933 INFO Hosting environment: Development 
2025-05-11 15:57:27.5933 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 15:57:36.8658 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 15:57:37.0379 INFO Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 15:57:37.2270 INFO Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 15:57:37.2900 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 15:57:37.8742 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 15:57:38.0075 INFO Executed DbCommand (61ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 15:57:41.6870 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 15:57:41.7167 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 15:57:46.7287 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 15:57:46.7455 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 15:57:47.8933 INFO Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 15:57:47.9307 INFO Executed DbCommand (5ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 15:57:59.2447 INFO Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 15:57:59.2447 INFO Executed DbCommand (5ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 15:58:12.6927 INFO Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 15:58:12.8845 INFO Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 15:58:12.9363 INFO Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 15:58:12.9363 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 15:58:12.9634 INFO Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 15:58:12.9953 INFO Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 15:58:12.9953 INFO Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 15:58:12.9953 INFO Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 15:58:13.0098 INFO Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 15:58:13.0098 INFO Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 15:58:13.1266 INFO Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 15:58:13.1266 WARN admin 
2025-05-11 15:58:22.4235 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 15:58:22.5205 INFO Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 15:58:22.7288 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 15:58:22.7782 INFO Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 15:58:26.5217 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 15:58:26.5466 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 15:58:27.1924 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 15:58:27.1998 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 15:58:27.6318 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 15:58:27.6401 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 15:58:32.4226 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 15:58:32.4341 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 15:58:32.8948 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 15:58:32.9046 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 15:58:33.4805 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 15:58:33.4805 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 15:58:49.2638 INFO Executed DbCommand (6ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 15:58:49.2751 INFO Người dùng mở trang đặt tour: "Tour Hà Giang mùa hoa tam giác mạch 3N2Đ" – Ngày đi: "24/12/2025" 
2025-05-11 15:58:49.3184 INFO Executed DbCommand (8ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 15:59:38.1234 INFO Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 15:59:38.1234 INFO Executed DbCommand (4ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:00:05.2551 INFO Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:00:05.2654 INFO Executed DbCommand (5ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:00:09.0110 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:00:09.0272 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:00:09.0272 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:00:09.1798 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:00:09.2099 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:00:09.2178 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:00:14.7728 INFO Executed DbCommand (12ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 16:00:14.8042 INFO Executed DbCommand (10ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:00:14.8119 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:00:15.7673 INFO Executed DbCommand (5ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 16:00:15.7744 INFO Executed DbCommand (6ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:00:15.7744 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:00:36.0213 INFO Executed DbCommand (4ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 16:00:36.0213 INFO Người dùng mở trang đặt tour: "Tour Hà Giang mùa hoa tam giác mạch 3N2Đ" – Ngày đi: "30/10/2025" 
2025-05-11 16:00:36.0271 INFO Executed DbCommand (4ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:00:43.2600 INFO Executed DbCommand (1ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 16:00:43.2600 INFO Người dùng mở trang đặt tour: "Tour Hà Giang mùa hoa tam giác mạch 3N2Đ" – Ngày đi: "30/10/2025" 
2025-05-11 16:00:43.2600 INFO Executed DbCommand (2ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:00:44.2260 INFO Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:00:44.2319 INFO Executed DbCommand (4ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:00:46.1778 INFO Executed DbCommand (1ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 16:00:46.1798 INFO Người dùng mở trang đặt tour: "Tour Hà Giang mùa hoa tam giác mạch 3N2Đ" – Ngày đi: "24/12/2025" 
2025-05-11 16:00:46.1798 INFO Executed DbCommand (1ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:01:01.3450 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:01:01.3655 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:01:08.2921 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:01:08.2921 INFO Executed DbCommand (3ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:01:13.6523 INFO Executed DbCommand (10ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 16:01:13.6523 INFO Người dùng mở trang đặt tour: "Tour Hà Giang mùa hoa tam giác mạch 3N2Đ" – Ngày đi: "12/01/2026" 
2025-05-11 16:01:13.6523 INFO Executed DbCommand (9ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:01:54.3642 INFO Executed DbCommand (5ms) [Parameters=[@__TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t]
WHERE [t].[TourId] = @__TourId_0 
2025-05-11 16:01:54.4295 INFO Executed DbCommand (16ms) [Parameters=[@__TourId_0='?' (DbType = Int32), @__DepartureDate_Date_1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__TourId_0 AND CONVERT(date, [t].[DepartureDate]) = @__DepartureDate_Date_1 
2025-05-11 16:01:54.4491 INFO Executed DbCommand (8ms) [Parameters=[@__Email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__Email_0 
2025-05-11 16:01:54.5584 INFO Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (Size = 200), @p3='?' (Size = 200), @p4='?' (Size = 200), @p5='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Address], [Email], [FullName], [Password], [Phone], [Role])
OUTPUT INSERTED.[UserId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5); 
2025-05-11 16:01:54.6348 INFO Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p11='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([AdultQuantity], [BookingDate], [ChildQuantity], [DepartureDate], [PaymentMethod], [SpecialRequest], [TotalPrice], [TourId], [TourScheduleId], [UserId])
OUTPUT INSERTED.[BookingId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
UPDATE [TourSchedules] SET [RemainingSlot] = @p10
OUTPUT 1
WHERE [TourScheduleId] = @p11; 
2025-05-11 16:01:54.6348 INFO  Đặt tour thành công – TourID: 1, Tên tour: "Tour Hà Giang mùa hoa tam giác mạch 3N2Đ", Ngày đi: "12/01/2026", Người đặt: "Phương Linh", Email: "ptduong394@gmail.com", Số điện thoại: "0832932176", Địa chỉ: "Tờ bản đồ số 7, Ấp Đồng Tràm, Xã Long Thạnh, Huyện Giồng Riềng, Kiên Giang", Người lớn: 1, Trẻ em: 1, Tổng tiền: "4,800,000" đ, Thanh toán: "Quầy" 
2025-05-11 16:01:54.6660 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:01:54.6660 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 16:01:54.6811 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:01:54.6811 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:01:54.7753 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:01:54.8000 INFO Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:02:02.9673 INFO Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:02:02.9673 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:02:16.1534 INFO Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:02:16.1534 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:02:16.1534 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:02:16.2402 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:02:16.2506 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:02:16.2615 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:02:22.2450 INFO Executed DbCommand (5ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 16:02:22.2450 INFO Executed DbCommand (4ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:02:22.2450 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:02:23.4624 INFO Executed DbCommand (4ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 16:02:23.4624 INFO Executed DbCommand (9ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:02:23.4624 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:02:25.9340 INFO Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:02:25.9340 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:02:41.6905 INFO Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:02:41.6905 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:02:44.1420 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:02:44.1733 INFO Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 16:02:44.2657 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:02:44.2763 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:02:52.7879 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:02:52.7971 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:02:53.9322 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:02:53.9390 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:02:55.2202 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:02:55.2202 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:02:56.6638 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:02:59.5825 INFO Executed DbCommand (11ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 16:02:59.6069 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 16:02:59.6807 INFO Executed DbCommand (12ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Key] AS [Region], COUNT(*) AS [Count]
FROM (
    SELECT CASE
        WHEN [t].[CategoryId] = 1 THEN N'Miền Bắc'
        ELSE N'Miền Nam'
    END AS [Key]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [s]
GROUP BY [s].[Key] 
2025-05-11 16:02:59.7019 INFO Executed DbCommand (12ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [b].[PaymentMethod] 
2025-05-11 16:02:59.7220 INFO Executed DbCommand (6ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 16:02:59.7296 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:04:13.3465 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:04:13.3465 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:04:13.3665 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:04:13.4431 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:04:13.4520 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:04:13.4520 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:04:16.8003 INFO Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:04:16.8078 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:06:44.2001 INFO Executed DbCommand (126ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 16:06:44.3343 INFO Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:06:44.8252 INFO Now listening on: http://localhost:5062 
2025-05-11 16:06:44.9075 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 16:06:44.9075 INFO Hosting environment: Development 
2025-05-11 16:06:44.9075 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 16:07:17.9730 INFO Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:07:18.3685 INFO Executed DbCommand (19ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 16:07:18.4225 INFO Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:07:18.4225 INFO Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 16:07:18.4426 INFO Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 16:07:18.4653 INFO Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 16:07:18.4807 INFO Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:07:18.4807 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 16:07:18.4956 INFO Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 16:07:18.4956 INFO Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:07:18.5854 INFO Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:07:18.5935 WARN admin 
2025-05-11 16:07:25.7163 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:07:30.4650 INFO Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:07:30.5930 INFO Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:07:30.6428 INFO Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:07:30.9095 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:07:31.0162 INFO Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:07:31.1006 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:07:38.4966 INFO Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:07:38.5120 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 16:07:41.0671 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:07:41.1221 INFO Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 16:07:41.2325 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:07:41.2676 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:07:43.3652 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:07:43.3733 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:07:43.3733 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:07:43.4465 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:07:43.4551 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:07:43.4551 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:07:46.3975 INFO Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:07:46.4123 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:08:01.7155 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:08:01.7155 WARN Dữ liệu tour không hợp lệ khi cập nhật. 
2025-05-11 16:08:20.4618 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:08:20.4685 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:08:20.4685 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:08:20.5548 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:08:20.5548 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:08:20.5548 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:08:22.5346 INFO Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:08:22.5412 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:08:25.2109 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:08:25.2418 INFO Executed DbCommand (7ms) [Parameters=[@__model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__model_TourId_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:08:25.4928 INFO Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Boolean), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [TourSchedules] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4)) AS i ([DepartureDate], [IsDeleted], [RemainingSlot], [ReturnDate], [TourId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DepartureDate], [IsDeleted], [RemainingSlot], [ReturnDate], [TourId])
VALUES (i.[DepartureDate], i.[IsDeleted], i.[RemainingSlot], i.[ReturnDate], i.[TourId])
OUTPUT INSERTED.[TourScheduleId], i._Position; 
2025-05-11 16:08:25.5245 INFO Cập nhật tour ID 14: Tour Bến Tre – Cồn Phụng 1N 
2025-05-11 16:08:25.5419 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:08:25.5419 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:08:25.5419 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:08:25.6311 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:08:25.6410 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:08:25.6410 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:08:32.4959 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:08:32.5060 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:08:39.2018 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:08:39.2018 INFO Executed DbCommand (6ms) [Parameters=[@__model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__model_TourId_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:08:39.2339 INFO Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (DbType = Int32), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Boolean), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Boolean), @p27='?' (DbType = Int32), @p28='?' (DbType = DateTime2), @p29='?' (DbType = Int32), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Boolean), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTime2), @p34='?' (DbType = Int32), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Boolean), @p37='?' (DbType = Int32), @p38='?' (DbType = DateTime2), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTime2), @p41='?' (DbType = Boolean), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Int32), @p45='?' (DbType = DateTime2), @p46='?' (DbType = Boolean), @p47='?' (DbType = Int32), @p48='?' (DbType = DateTime2), @p49='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [TourSchedules] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4),
(@p25, @p26, @p27, @p28, @p29, 5),
(@p30, @p31, @p32, @p33, @p34, 6),
(@p35, @p36, @p37, @p38, @p39, 7),
(@p40, @p41, @p42, @p43, @p44, 8),
(@p45, @p46, @p47, @p48, @p49, 9)) AS i ([DepartureDate], [IsDeleted], [RemainingSlot], [ReturnDate], [TourId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DepartureDate], [IsDeleted], [RemainingSlot], [ReturnDate], [TourId])
VALUES (i.[DepartureDate], i.[IsDeleted], i.[RemainingSlot], i.[ReturnDate], i.[TourId])
OUTPUT INSERTED.[TourScheduleId], i._Position; 
2025-05-11 16:08:39.2339 INFO Cập nhật tour ID 14: Tour Bến Tre – Cồn Phụng 1N 
2025-05-11 16:08:39.2504 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:08:39.2504 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:08:39.2607 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:08:39.3308 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:08:39.3396 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:08:39.3396 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:08:41.0255 INFO Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:08:41.0255 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:08:43.5810 INFO Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:08:43.5810 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:08:43.5900 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:08:43.6068 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:08:43.6068 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:08:43.6068 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:08:43.6753 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:08:43.6753 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:08:43.6985 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:08:51.6293 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:08:51.6604 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 16:08:51.6691 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:08:51.6691 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:08:52.3889 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:08:52.5257 INFO Executed DbCommand (45ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:08:56.6487 INFO Executed DbCommand (12ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 16:08:56.6832 INFO Executed DbCommand (14ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:08:56.8013 INFO Executed DbCommand (2ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 16:08:56.8013 INFO Executed DbCommand (1ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:08:57.2178 INFO Executed DbCommand (5ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 16:08:57.2332 INFO Executed DbCommand (13ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:08:58.6830 INFO Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:08:58.7036 INFO Executed DbCommand (3ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:09:12.7445 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:09:12.7480 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:09:14.9192 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:09:14.9192 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:09:14.9192 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:09:16.4788 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:09:16.4788 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:19:51.0815 INFO Executed DbCommand (134ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 16:19:51.2055 INFO Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:19:51.7064 INFO Now listening on: http://localhost:5062 
2025-05-11 16:19:51.7935 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 16:19:51.7935 INFO Hosting environment: Development 
2025-05-11 16:19:51.7935 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 16:20:05.0072 INFO Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:20:05.1713 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:20:05.2209 INFO Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:20:05.5542 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:20:05.6750 INFO Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:20:05.7856 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:20:07.4660 INFO Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:20:07.4914 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:20:10.1484 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:20:10.1689 INFO Executed DbCommand (5ms) [Parameters=[@__model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__model_TourId_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:20:10.1689 INFO Executed DbCommand (4ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:20:10.1817 INFO Executed DbCommand (1ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:20:10.1817 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:20:10.1817 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:20:10.1817 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:20:10.2213 INFO Cập nhật tour ID 15: Tour Tây Ninh – Núi Bà Đen 1N 
2025-05-11 16:20:10.2389 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:20:10.2389 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:20:10.2476 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:20:10.3097 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:20:10.3097 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:20:10.3283 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:20:11.8658 INFO Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:20:11.8721 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:20:16.7600 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:20:16.8063 INFO Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 16:20:16.8205 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:20:16.8205 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:20:17.4404 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:20:17.6175 INFO Executed DbCommand (57ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:20:20.8347 INFO Executed DbCommand (30ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 16:20:20.8647 INFO Executed DbCommand (12ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:20:21.9867 INFO Executed DbCommand (5ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 16:20:22.0032 INFO Executed DbCommand (13ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:20:23.0199 INFO Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:20:23.0406 INFO Executed DbCommand (2ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:20:34.7080 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:20:34.7141 INFO Executed DbCommand (4ms) [Parameters=[@__model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__model_TourId_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:20:34.7141 INFO Executed DbCommand (2ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:20:34.7141 INFO Executed DbCommand (2ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:20:34.7141 INFO Executed DbCommand (1ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:20:34.7141 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:20:34.7141 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:20:34.8307 INFO Executed DbCommand (23ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [TourSchedules] SET [IsDeleted] = @p0
OUTPUT 1
WHERE [TourScheduleId] = @p1; 
2025-05-11 16:20:34.8307 INFO Cập nhật tour ID 15: Tour Tây Ninh – Núi Bà Đen 1N 
2025-05-11 16:20:34.8477 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:20:34.8477 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:20:34.8551 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:20:34.9282 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:20:34.9380 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:20:34.9685 INFO Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:20:38.1523 INFO Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:20:38.1523 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:20:43.1380 INFO Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:20:43.1380 INFO Executed DbCommand (3ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:20:48.1211 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:20:48.1211 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:20:48.1211 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:20:48.2089 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:20:48.2221 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:20:48.2344 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:20:49.1684 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:20:49.1684 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:20:51.7580 INFO Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:20:51.7580 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:23:23.2672 INFO Executed DbCommand (126ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 16:23:23.3956 INFO Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:23:23.8711 INFO Now listening on: http://localhost:5062 
2025-05-11 16:23:23.9433 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 16:23:23.9433 INFO Hosting environment: Development 
2025-05-11 16:23:23.9433 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 16:23:42.3358 INFO Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:23:42.5291 INFO Executed DbCommand (53ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 16:23:42.7251 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:23:42.7838 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:23:43.5619 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:23:43.7275 INFO Executed DbCommand (72ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:23:47.3712 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:23:47.4325 INFO Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 16:23:47.6874 INFO Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:23:47.7345 INFO Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:23:50.3621 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:23:50.3952 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:23:50.4031 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:23:50.6175 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:23:50.6559 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:23:50.6711 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:23:56.2634 INFO Executed DbCommand (17ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 16:23:56.2979 INFO Executed DbCommand (18ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:23:57.8664 INFO Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:23:57.9029 INFO Executed DbCommand (5ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:24:02.5537 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:24:02.5760 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:24:26.0951 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:24:26.0951 INFO Executed DbCommand (2ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:24:28.1630 INFO Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:24:28.1682 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:26:49.1605 INFO Executed DbCommand (143ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 16:26:49.2782 INFO Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:26:49.7762 INFO Now listening on: http://localhost:5062 
2025-05-11 16:26:49.8492 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 16:26:49.8492 INFO Hosting environment: Development 
2025-05-11 16:26:49.8492 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 16:27:03.6331 INFO Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:27:03.7890 INFO Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:27:03.8488 INFO Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:27:04.1809 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:27:04.3148 INFO Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:27:04.4355 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:27:06.2631 INFO Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:27:06.2800 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:27:13.2036 INFO Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:27:13.2388 INFO Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 16:27:13.2559 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:27:13.2628 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:27:13.6926 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:27:13.8260 INFO Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:27:19.8424 INFO Executed DbCommand (13ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 16:27:19.8751 INFO Executed DbCommand (14ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:27:20.9160 INFO Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:27:20.9383 INFO Executed DbCommand (3ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:31:38.2132 INFO Executed DbCommand (78ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 16:31:38.3117 INFO Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:31:38.7120 INFO Now listening on: http://localhost:5062 
2025-05-11 16:31:38.7763 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 16:31:38.7763 INFO Hosting environment: Development 
2025-05-11 16:31:38.7763 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 16:31:50.0862 INFO Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:31:53.0171 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:31:53.1240 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:31:53.1758 INFO Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:31:53.3286 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:31:53.3985 INFO Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:31:53.4648 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:31:54.9462 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:31:54.9636 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:32:08.8817 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:32:08.9061 INFO Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 16:32:08.9160 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:32:08.9160 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:32:09.3863 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:32:09.4820 INFO Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:32:14.2449 INFO Executed DbCommand (14ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 16:32:14.2669 INFO Executed DbCommand (12ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:32:15.0049 INFO Executed DbCommand (4ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 16:32:15.0141 INFO Executed DbCommand (8ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:32:16.4689 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:32:16.4820 INFO Executed DbCommand (2ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:32:33.7995 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:32:33.8138 INFO Executed DbCommand (2ms) [Parameters=[@__model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__model_TourId_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:32:33.8234 INFO Executed DbCommand (3ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:32:33.8234 INFO Executed DbCommand (1ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:32:33.8234 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:32:33.8234 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:32:33.8234 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:32:33.9389 INFO Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [TourSchedules] ([DepartureDate], [IsDeleted], [RemainingSlot], [ReturnDate], [TourId])
OUTPUT INSERTED.[TourScheduleId]
VALUES (@p0, @p1, @p2, @p3, @p4); 
2025-05-11 16:32:33.9561 INFO Cập nhật tour ID 15: Tour Tây Ninh – Núi Bà Đen 1N 
2025-05-11 16:32:33.9702 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:32:33.9702 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:32:33.9702 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:32:34.0221 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:32:34.0291 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:32:34.0291 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:32:35.7305 INFO Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:32:35.7305 INFO Executed DbCommand (2ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:32:41.0040 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:32:41.0040 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:32:47.5145 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:32:47.5145 INFO Executed DbCommand (4ms) [Parameters=[@__model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__model_TourId_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:32:47.5145 INFO Executed DbCommand (1ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:32:47.5145 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:32:47.5234 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:32:47.5234 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:32:47.5234 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:32:47.5234 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:32:47.5234 INFO Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [TourSchedules] SET [ReturnDate] = @p0
OUTPUT 1
WHERE [TourScheduleId] = @p1; 
2025-05-11 16:32:47.5234 INFO Cập nhật tour ID 15: Tour Tây Ninh – Núi Bà Đen 1N 
2025-05-11 16:32:47.5464 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:32:47.5464 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:32:47.5464 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:32:47.5868 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:32:47.5868 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:32:47.5868 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:32:49.3691 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:32:49.3691 INFO Executed DbCommand (3ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:32:51.7832 INFO Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:32:51.7961 INFO Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:32:54.7458 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:32:54.7458 WARN Dữ liệu tour không hợp lệ khi cập nhật. 
2025-05-11 16:32:58.4327 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:32:58.4327 INFO Executed DbCommand (2ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:33:00.7344 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:33:00.7344 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:33:00.7442 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:33:00.7812 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:33:00.7812 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:33:00.7928 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:33:02.3481 INFO Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:33:02.3481 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:33:14.4100 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:33:14.4100 INFO Executed DbCommand (2ms) [Parameters=[@__model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__model_TourId_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:33:14.4238 INFO Executed DbCommand (4ms) [Parameters=[@__model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__model_TourId_0 AND [i].[DayNumber] = 0 
2025-05-11 16:33:14.4477 INFO Executed DbCommand (2ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:33:14.4477 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:33:14.4477 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:33:14.4477 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:33:14.4477 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:33:14.4477 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:33:14.4935 INFO Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 200), @p3='?' (DbType = Int32), @p4='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Images]
OUTPUT 1
WHERE [ImageId] = @p0;
INSERT INTO [Images] ([DayNumber], [Description], [TourId], [Url])
OUTPUT INSERTED.[ImageId]
VALUES (@p1, @p2, @p3, @p4); 
2025-05-11 16:33:14.4935 INFO Cập nhật tour ID 15: Tour Tây Ninh – Núi Bà Đen 1N 
2025-05-11 16:33:14.5131 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:33:14.5131 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:33:14.5131 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:33:14.5567 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:33:14.5567 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:33:14.5567 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:33:16.2338 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:33:16.2338 INFO Executed DbCommand (2ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:33:21.8165 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:33:21.8367 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:33:21.8367 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:33:22.9998 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:33:22.9998 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:33:22.9998 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:33:25.9446 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:33:25.9865 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 16:33:26.0776 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:33:26.1016 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:33:32.0853 INFO Executed DbCommand (3ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 16:33:32.0913 INFO Người dùng mở trang đặt tour: "Tour Tây Ninh – Núi Bà Đen 1N" – Ngày đi: "15/10/2025" 
2025-05-11 16:33:32.1098 INFO Executed DbCommand (2ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:33:46.1214 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:33:46.1414 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:33:47.0155 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:33:47.0155 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:33:48.2722 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:33:48.2777 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:33:54.3625 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:33:54.3625 INFO Executed DbCommand (2ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:33:55.2874 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:33:55.2937 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 16:33:55.2937 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:33:55.2937 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:33:58.3700 INFO Executed DbCommand (3ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 16:33:58.3836 INFO Executed DbCommand (10ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:33:59.4114 INFO Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:33:59.4166 INFO Executed DbCommand (3ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:34:09.7351 INFO Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:34:09.7445 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:34:09.7445 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:34:09.7665 INFO Executed DbCommand (4ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:34:34.0896 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
LEFT JOIN [TourSchedules] AS [t] ON [b].[TourScheduleId] = [t].[TourScheduleId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:34:34.0896 INFO Executed DbCommand (3ms) [Parameters=[@__existing_TourScheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__existing_TourScheduleId_0 
2025-05-11 16:34:34.1081 INFO Executed DbCommand (3ms) [Parameters=[@__existing_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t]
WHERE [t].[TourId] = @__existing_TourId_0 
2025-05-11 16:34:34.1406 INFO Executed DbCommand (12ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Bookings] SET [ChildQuantity] = @p0, [PaymentMethod] = @p1, [TotalPrice] = @p2
OUTPUT 1
WHERE [BookingId] = @p3;
UPDATE [TourSchedules] SET [RemainingSlot] = @p4
OUTPUT 1
WHERE [TourScheduleId] = @p5; 
2025-05-11 16:34:34.1406 INFO Admin đã chỉnh sửa booking #12 – Người đặt: Huỳnh Mỹ Duyên 
2025-05-11 16:34:34.1536 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:34:34.1536 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 16:34:34.2007 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:34:34.2007 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:34:38.0014 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:34:38.0014 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:34:43.5565 INFO Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:34:43.5565 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:34:43.5565 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:34:43.5565 INFO Executed DbCommand (2ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:34:56.1747 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:34:56.1810 INFO Executed DbCommand (3ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:35:02.7798 INFO Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
LEFT JOIN [TourSchedules] AS [t] ON [b].[TourScheduleId] = [t].[TourScheduleId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:35:02.7798 INFO Executed DbCommand (2ms) [Parameters=[@__existing_TourScheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__existing_TourScheduleId_0 
2025-05-11 16:35:02.7798 INFO Executed DbCommand (1ms) [Parameters=[@__existing_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t]
WHERE [t].[TourId] = @__existing_TourId_0 
2025-05-11 16:35:02.7917 INFO Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Bookings] SET [AdultQuantity] = @p0, [TotalPrice] = @p1
OUTPUT 1
WHERE [BookingId] = @p2;
UPDATE [TourSchedules] SET [RemainingSlot] = @p3
OUTPUT 1
WHERE [TourScheduleId] = @p4; 
2025-05-11 16:35:02.7917 INFO Admin đã chỉnh sửa booking #12 – Người đặt: Huỳnh Mỹ Duyên 
2025-05-11 16:35:02.7917 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:35:02.8077 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 16:35:02.8450 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:35:02.8535 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:35:05.9379 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:35:05.9379 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:35:08.1655 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:35:08.1655 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:35:08.1655 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:35:08.1655 INFO Executed DbCommand (2ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:35:12.7285 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:35:12.7285 INFO Executed DbCommand (1ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:35:34.1239 INFO Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
LEFT JOIN [TourSchedules] AS [t] ON [b].[TourScheduleId] = [t].[TourScheduleId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:35:34.1239 INFO Executed DbCommand (1ms) [Parameters=[@__existing_TourScheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__existing_TourScheduleId_0 
2025-05-11 16:35:34.1332 INFO Executed DbCommand (2ms) [Parameters=[@__booking_TourScheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__booking_TourScheduleId_0 
2025-05-11 16:35:34.1332 INFO Executed DbCommand (0ms) [Parameters=[@__existing_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t]
WHERE [t].[TourId] = @__existing_TourId_0 
2025-05-11 16:35:34.1514 INFO Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p4='?' (DbType = Int32), @p3='?' (DbType = Int32), @p6='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Bookings] SET [DepartureDate] = @p0, [TourScheduleId] = @p1
OUTPUT 1
WHERE [BookingId] = @p2;
UPDATE [TourSchedules] SET [RemainingSlot] = @p3
OUTPUT 1
WHERE [TourScheduleId] = @p4;
UPDATE [TourSchedules] SET [RemainingSlot] = @p5
OUTPUT 1
WHERE [TourScheduleId] = @p6; 
2025-05-11 16:35:34.1514 INFO Admin đã chỉnh sửa booking #12 – Người đặt: Huỳnh Mỹ Duyên 
2025-05-11 16:35:34.1514 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:35:34.1514 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 16:35:34.1951 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:35:34.1969 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:35:37.5669 INFO Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:35:37.5669 INFO Executed DbCommand (1ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:35:49.1947 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:35:49.1974 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:35:50.0974 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:35:50.0974 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:35:50.9386 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:35:50.9386 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:35:59.3177 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:35:59.3223 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 16:35:59.5270 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:35:59.5270 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:36:01.6824 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:36:01.6824 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:36:01.6824 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:36:01.7387 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:36:01.7442 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:36:01.7442 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:36:09.7560 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:36:09.7628 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:36:14.8062 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:14.8062 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:14.8062 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:14.8062 INFO Executed DbCommand (3ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:18.0500 INFO Executed DbCommand (3ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 16:36:18.0637 INFO Executed DbCommand (4ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:36:18.0637 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:36:19.4042 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:36:19.4042 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:36:27.8155 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:36:27.8203 INFO Executed DbCommand (3ms) [Parameters=[@__model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__model_TourId_0
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:36:27.8203 INFO Executed DbCommand (1ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:36:27.8203 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:36:27.8203 INFO Executed DbCommand (1ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:36:27.8203 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:36:27.8203 INFO Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourScheduleId] = @__scheduleId_0 
2025-05-11 16:36:27.8203 INFO Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [TourSchedules] SET [IsDeleted] = @p0
OUTPUT 1
WHERE [TourScheduleId] = @p1; 
2025-05-11 16:36:27.8203 INFO Cập nhật tour ID 12: Tour Ba Vì – Làng Văn hóa 1N 
2025-05-11 16:36:27.8397 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:36:27.8397 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:36:27.8397 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:36:27.8793 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:36:27.8836 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 16:36:27.8836 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 16:36:32.6375 INFO Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:32.6375 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:32.6375 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:32.6375 INFO Executed DbCommand (2ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:35.7532 INFO Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:35.7532 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:35.7532 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:35.7584 INFO Executed DbCommand (2ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:36.3237 INFO Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:36.3237 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:36.3237 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:36.3237 INFO Executed DbCommand (1ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:36.4808 INFO Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:36.4808 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:36.4808 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:36.4808 INFO Executed DbCommand (2ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:36.6355 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:36.6355 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:36.6355 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:36.6355 INFO Executed DbCommand (2ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:36.7790 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:36.7790 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:36.7790 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:36.7790 INFO Executed DbCommand (2ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:57.6405 INFO Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:57.6405 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:57.6405 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:57.6405 INFO Executed DbCommand (2ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:57.8557 INFO Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:57.8557 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:57.8557 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:57.8557 INFO Executed DbCommand (0ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:58.0348 INFO Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:58.0348 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:58.0348 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:58.0348 INFO Executed DbCommand (1ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:58.1969 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:58.1969 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:58.1969 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:58.1969 INFO Executed DbCommand (2ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:58.3533 INFO Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:58.3533 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:58.3533 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:58.3533 INFO Executed DbCommand (3ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:58.5162 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:58.5162 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:58.5162 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:58.5162 INFO Executed DbCommand (2ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:58.6604 INFO Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:58.6604 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:58.6653 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:58.6653 INFO Executed DbCommand (2ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:58.7947 INFO Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:58.7947 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:58.7947 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:58.7947 INFO Executed DbCommand (1ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:58.9444 INFO Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:58.9444 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:58.9444 INFO Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:58.9464 INFO Executed DbCommand (0ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:59.0930 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:59.0930 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:59.0930 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:59.0930 INFO Executed DbCommand (4ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:59.2430 INFO Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:59.2430 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:59.2430 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:59.2430 INFO Executed DbCommand (2ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:59.3763 INFO Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:59.3763 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:59.3763 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:59.3763 INFO Executed DbCommand (1ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:36:59.6687 INFO Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:36:59.6687 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:36:59.6687 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:36:59.6687 INFO Executed DbCommand (2ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:37:03.2970 INFO Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:37:03.3337 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:37:03.3337 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:37:03.3367 INFO Executed DbCommand (2ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:37:03.3618 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:37:03.3689 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 16:37:03.4164 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:37:03.4164 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:37:11.3349 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:37:11.3431 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:37:14.5970 INFO Executed DbCommand (5ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 16:37:14.6217 INFO Executed DbCommand (6ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 16:37:16.2368 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:37:16.2423 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:37:20.1583 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:37:20.1649 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:37:20.9358 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:37:20.9358 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:37:21.9105 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:37:21.9176 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:37:24.8288 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:37:24.8288 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:37:28.4452 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:37:28.4509 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:37:31.9936 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:37:31.9936 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:37:31.9936 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:37:32.0081 INFO Executed DbCommand (6ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:38:59.6492 INFO Executed DbCommand (95ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 16:38:59.7472 INFO Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:39:00.0860 INFO Now listening on: http://localhost:5062 
2025-05-11 16:39:00.1516 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 16:39:00.1516 INFO Hosting environment: Development 
2025-05-11 16:39:00.1516 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 16:39:04.9130 INFO Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:39:05.0212 INFO Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 16:39:05.1236 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:39:05.1733 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:39:05.6519 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:39:05.7623 INFO Executed DbCommand (43ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:39:17.2663 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:39:17.3006 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 16:39:17.4176 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:39:17.4434 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:39:18.7914 INFO Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 16:39:18.7914 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 16:39:18.8108 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 16:39:18.8238 INFO Executed DbCommand (4ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:39:30.7828 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:39:30.7959 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 16:39:30.8362 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:39:30.8477 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:39:34.2261 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:39:34.2422 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:39:34.7544 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:39:34.7619 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:39:35.8815 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:39:35.8884 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:39:52.6512 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 16:39:52.6658 INFO Executed DbCommand (2ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 16:39:55.4264 INFO Executed DbCommand (3ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 16:39:55.4333 INFO Người dùng mở trang đặt tour: "Tour Cần Thơ - Sóc Trăng 2N1Đ - Miền Tây sông nước" – Ngày đi: "30/10/2025" 
2025-05-11 16:39:55.4513 INFO Executed DbCommand (3ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 16:40:31.3045 INFO Executed DbCommand (3ms) [Parameters=[@__TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t]
WHERE [t].[TourId] = @__TourId_0 
2025-05-11 16:40:31.3303 INFO Executed DbCommand (12ms) [Parameters=[@__TourId_0='?' (DbType = Int32), @__DepartureDate_Date_1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__TourId_0 AND CONVERT(date, [t].[DepartureDate]) = @__DepartureDate_Date_1 
2025-05-11 16:40:31.3405 INFO Executed DbCommand (3ms) [Parameters=[@__Email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__Email_0 
2025-05-11 16:40:31.5076 INFO Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p11='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([AdultQuantity], [BookingDate], [ChildQuantity], [DepartureDate], [PaymentMethod], [SpecialRequest], [TotalPrice], [TourId], [TourScheduleId], [UserId])
OUTPUT INSERTED.[BookingId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
UPDATE [TourSchedules] SET [RemainingSlot] = @p10
OUTPUT 1
WHERE [TourScheduleId] = @p11; 
2025-05-11 16:40:31.5328 INFO  Đặt tour thành công – TourID: 8, Tên tour: "Tour Cần Thơ - Sóc Trăng 2N1Đ - Miền Tây sông nước", Ngày đi: "30/10/2025", Người đặt: "Lê Thị Phương Linh ", Email: "ptduong394@gmail.com", Số điện thoại: "0367934563", Địa chỉ: "An Giang", Người lớn: 1, Trẻ em: 1, Tổng tiền: "3,200,000" đ, Thanh toán: "MoMo" 
2025-05-11 16:40:31.5461 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:40:31.5461 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 16:40:31.5568 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:40:31.5568 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:40:31.6131 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:40:31.6341 INFO Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:40:35.1059 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:40:35.1059 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 16:40:35.1487 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:40:35.1487 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:40:53.1214 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:40:53.1214 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 16:40:55.5098 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:40:55.5098 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY 
2025-05-11 16:40:57.1024 INFO Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u0].[UserId], [u0].[Address], [u0].[Email], [u0].[FullName], [u0].[Password], [u0].[Phone], [u0].[Role], [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[TourId0], [s].[AdultPrice], [s].[Capacity], [s].[CategoryId], [s].[ChildPrice], [s].[Description], [s].[Destination], [s].[Duration], [s].[Itinerary], [s].[Title], [s].[Transport]
FROM (
    SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[UserId] = @__id_0
) AS [u0]
LEFT JOIN (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId] AS [TourId0], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
) AS [s] ON [u0].[UserId] = [s].[UserId]
ORDER BY [u0].[UserId], [s].[BookingId] 
2025-05-11 16:41:45.3644 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:41:45.3697 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 16:41:58.6092 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:41:58.6092 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY 
2025-05-11 16:42:00.9663 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:42:00.9663 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 16:42:03.3099 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:42:03.3099 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY 
2025-05-11 16:42:04.2773 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:42:04.2773 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 16:42:25.0438 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:42:25.0562 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 16:42:25.0562 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 16:42:25.0562 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 16:42:25.2814 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:42:25.3016 INFO Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:43:04.1972 INFO Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:43:04.2176 INFO Executed DbCommand (3ms) [Parameters=[@__model_Email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__model_Email_0 
2025-05-11 16:43:04.4805 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-05-11 16:43:04.5627 INFO Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256), @p19='?' (DbType = Int32), @p15='?' (Size = 200), @p16='?' (Size = 200), @p17='?' (Size = 200), @p18='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
UPDATE [Users] SET [Address] = @p15, [FullName] = @p16, [Phone] = @p17, [Role] = @p18
OUTPUT 1
WHERE [UserId] = @p19; 
2025-05-11 16:43:24.3018 INFO Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:43:24.3119 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-05-11 16:43:24.3378 INFO Executed DbCommand (12ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
OUTPUT 1
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15; 
2025-05-11 16:43:34.8187 INFO Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:43:34.9139 INFO Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 16:43:34.9369 INFO Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:43:34.9369 INFO Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 16:43:34.9470 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:43:34.9470 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:43:34.9718 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:43:34.9770 WARN  
2025-05-11 16:43:37.3940 INFO Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 16:43:47.1622 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:43:47.1644 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY 
2025-05-11 16:43:50.9593 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:43:51.4715 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:43:51.4840 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 16:43:51.5376 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:43:51.5476 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:43:58.2801 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:43:58.2801 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:43:59.1761 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:43:59.1806 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:43:59.7446 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:43:59.7446 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:44:06.8496 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:44:06.8556 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:44:07.2869 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:44:07.2913 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:44:08.7975 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:44:08.7975 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 16:44:10.8568 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:44:10.8568 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY 
2025-05-11 16:44:12.9167 INFO Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u0].[UserId], [u0].[Address], [u0].[Email], [u0].[FullName], [u0].[Password], [u0].[Phone], [u0].[Role], [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[TourId0], [s].[AdultPrice], [s].[Capacity], [s].[CategoryId], [s].[ChildPrice], [s].[Description], [s].[Destination], [s].[Duration], [s].[Itinerary], [s].[Title], [s].[Transport]
FROM (
    SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[UserId] = @__id_0
) AS [u0]
LEFT JOIN (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId] AS [TourId0], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
) AS [s] ON [u0].[UserId] = [s].[UserId]
ORDER BY [u0].[UserId], [s].[BookingId] 
2025-05-11 16:44:14.8699 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:44:14.8699 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 16:44:19.2931 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__p_0 
2025-05-11 16:44:19.3243 INFO Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [UserId] = @p0; 
2025-05-11 16:44:19.3417 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:44:19.3417 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 16:44:23.5947 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__p_0 
2025-05-11 16:44:23.6023 INFO Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [UserId] = @p0; 
2025-05-11 16:44:23.6023 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:44:23.6205 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 16:44:34.1288 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:44:34.1544 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 16:44:51.7865 INFO Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:44:51.8457 INFO Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 16:44:51.8457 INFO Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:44:51.8532 INFO Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 16:44:51.8532 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:44:51.8532 INFO Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:44:51.8532 INFO Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:44:51.8532 WARN  
2025-05-11 16:44:55.5651 INFO Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 16:44:58.5720 INFO Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 16:45:02.8804 INFO Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 16:45:04.1470 INFO Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 16:52:18.2983 INFO Executed DbCommand (58ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 16:52:18.4084 INFO Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:52:18.4964 INFO Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-05-11 16:52:18.6328 INFO Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14); 
2025-05-11 16:52:18.6511 INFO Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0 
2025-05-11 16:52:18.6940 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1 
2025-05-11 16:52:18.7014 INFO Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0 
2025-05-11 16:52:18.7138 INFO Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-05-11 16:52:18.7452 INFO Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p16='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p17='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17; 
2025-05-11 16:52:19.1893 INFO Now listening on: http://localhost:5062 
2025-05-11 16:52:19.2508 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 16:52:19.2508 INFO Hosting environment: Development 
2025-05-11 16:52:19.2508 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 16:52:24.8165 INFO Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 16:52:42.9019 INFO Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 16:52:45.0342 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:52:45.1837 INFO Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 16:52:45.4003 INFO Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:52:45.4264 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 16:52:49.9531 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__p_0 
2025-05-11 16:52:49.9639 INFO Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:52:49.9977 INFO Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [UserId] = @p0; 
2025-05-11 16:52:50.0186 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:52:50.0186 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 16:53:08.1231 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:53:26.2889 INFO Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:53:26.3895 INFO Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 16:53:26.4102 INFO Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:53:26.4165 INFO Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 16:53:26.4165 INFO Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 16:53:26.4344 INFO Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 16:53:26.4344 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:53:26.4344 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 16:53:26.4344 INFO Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 16:53:26.4344 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:53:26.4581 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:53:26.4689 WARN admin 
2025-05-11 16:53:27.8550 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:53:27.8550 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 16:53:29.1486 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:53:29.1486 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 16:53:29.2326 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:53:29.2655 INFO Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:53:30.9839 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:53:31.0030 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:53:31.3826 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:53:31.3883 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:53:33.2628 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:53:33.2628 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:53:34.9102 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:53:34.9181 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:53:35.8380 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:53:35.8380 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:53:36.8690 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:53:36.8888 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 16:53:38.4301 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:53:38.4484 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 16:53:38.8697 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:53:38.8697 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 16:53:39.9507 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:53:39.9507 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 16:53:40.8817 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:53:40.8900 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:53:43.5191 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:53:43.5262 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:53:44.4075 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:53:44.4075 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:53:45.6799 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:53:45.6799 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:53:55.1564 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:53:55.1564 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:53:55.9012 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:53:55.9012 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:54:00.8482 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 16:54:00.8544 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 16:54:13.4015 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 16:54:44.8920 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:54:44.9005 INFO Executed DbCommand (3ms) [Parameters=[@__model_Email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__model_Email_0 
2025-05-11 16:54:44.9756 INFO Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-05-11 16:54:45.0098 INFO Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256), @p15='?' (Size = 200), @p16='?' (Size = 200), @p17='?' (Size = 200), @p18='?' (Size = 200), @p19='?' (Size = 200), @p20='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
INSERT INTO [Users] ([Address], [Email], [FullName], [Password], [Phone], [Role])
OUTPUT INSERTED.[UserId]
VALUES (@p15, @p16, @p17, @p18, @p19, @p20); 
2025-05-11 16:55:18.5940 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:55:18.5940 INFO Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-05-11 16:55:18.6151 INFO Executed DbCommand (13ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
OUTPUT 1
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15; 
2025-05-11 16:55:27.8524 INFO Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:55:27.9192 INFO Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 16:55:27.9192 INFO Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:55:27.9192 INFO Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 16:55:27.9192 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:55:27.9192 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:55:27.9309 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:55:27.9309 WARN  
2025-05-11 16:55:45.7219 INFO Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 16:55:58.1851 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:55:58.2397 INFO Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 16:55:58.2434 INFO Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:55:58.2434 INFO Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 16:55:58.2434 INFO Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 16:55:58.2434 INFO Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 16:55:58.2434 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:55:58.2434 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 16:55:58.2434 INFO Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 16:55:58.2434 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:55:58.2578 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 16:55:58.2578 WARN admin 
2025-05-11 16:55:59.9956 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:55:59.9956 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 16:56:05.8198 INFO Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u0].[UserId], [u0].[Address], [u0].[Email], [u0].[FullName], [u0].[Password], [u0].[Phone], [u0].[Role], [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[TourId0], [s].[AdultPrice], [s].[Capacity], [s].[CategoryId], [s].[ChildPrice], [s].[Description], [s].[Destination], [s].[Duration], [s].[Itinerary], [s].[Title], [s].[Transport]
FROM (
    SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[UserId] = @__id_0
) AS [u0]
LEFT JOIN (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId] AS [TourId0], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
) AS [s] ON [u0].[UserId] = [s].[UserId]
ORDER BY [u0].[UserId], [s].[BookingId] 
2025-05-11 16:56:08.7382 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:56:08.7429 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 16:56:11.5235 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__p_0 
2025-05-11 16:56:11.5307 INFO Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:56:11.5604 INFO Executed DbCommand (23ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [AspNetUsers]
OUTPUT 1
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1; 
2025-05-11 16:56:11.5604 INFO Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [UserId] = @p0; 
2025-05-11 16:56:11.5812 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:56:11.5859 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 16:56:15.2789 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__p_0 
2025-05-11 16:56:15.2789 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:56:15.2907 INFO Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Users]
OUTPUT 1
WHERE [UserId] = @p0; 
2025-05-11 16:56:15.2907 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 16:56:15.3075 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 16:56:34.2885 INFO Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:59:56.3452 INFO Executed DbCommand (118ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 16:59:56.4515 INFO Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 16:59:56.8471 INFO Now listening on: http://localhost:5062 
2025-05-11 16:59:56.9074 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 16:59:56.9074 INFO Hosting environment: Development 
2025-05-11 16:59:56.9074 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 17:00:17.1333 INFO Executed DbCommand (24ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 17:00:17.1603 INFO Executed DbCommand (9ms) [Parameters=[@__model_Email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__model_Email_0 
2025-05-11 17:00:17.3229 INFO Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-05-11 17:00:17.4493 INFO Executed DbCommand (30ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256), @p15='?' (Size = 200), @p16='?' (Size = 200), @p17='?' (Size = 200), @p18='?' (Size = 200), @p19='?' (Size = 200), @p20='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
INSERT INTO [Users] ([Address], [Email], [FullName], [Password], [Phone], [Role])
OUTPUT INSERTED.[UserId]
VALUES (@p15, @p16, @p17, @p18, @p19, @p20); 
2025-05-11 17:00:39.5804 INFO Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 17:00:39.5893 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0 
2025-05-11 17:00:39.6251 INFO Executed DbCommand (19ms) [Parameters=[@p14='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p15='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [SecurityStamp] = @p11, [TwoFactorEnabled] = @p12, [UserName] = @p13
OUTPUT 1
WHERE [Id] = @p14 AND [ConcurrencyStamp] = @p15; 
2025-05-11 17:03:23.5545 INFO Executed DbCommand (108ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 17:03:23.8421 INFO Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 17:03:23.8929 INFO Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 17:03:23.9206 INFO Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 17:03:23.9306 INFO Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 17:03:23.9306 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 17:03:24.0956 INFO Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 17:03:24.1115 WARN  
2025-05-11 17:03:26.0539 INFO Executed DbCommand (12ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:04:15.1545 INFO Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:04:15.2534 INFO Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 17:04:15.5050 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:04:15.5329 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 17:04:29.4208 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:04:29.4304 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 17:04:29.4913 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:04:29.5029 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 17:04:30.2676 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 17:04:30.2787 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 17:04:30.9506 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:04:34.3734 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 17:04:37.9153 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 17:04:37.9153 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 17:04:40.3618 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:04:40.3733 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 17:04:40.4156 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:04:40.4156 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 17:04:42.3435 INFO Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 17:04:42.3526 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u] 
2025-05-11 17:04:42.3526 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t] 
2025-05-11 17:04:42.3768 INFO Executed DbCommand (5ms) [Parameters=[@__booking_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__booking_TourId_0
ORDER BY [t].[DepartureDate] 
2025-05-11 17:04:44.2609 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:04:44.2609 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 17:04:44.3190 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:04:44.3297 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 17:04:52.8897 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:04:52.9012 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 17:05:05.7734 INFO Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 17:05:05.8331 INFO Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 17:05:05.8378 INFO Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 17:05:05.8378 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 17:05:05.8625 INFO Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 17:05:05.8625 INFO Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 17:05:05.8625 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 17:05:05.8691 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 17:05:05.8691 INFO Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 17:05:05.8691 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 17:05:05.8691 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 17:05:05.8691 WARN admin 
2025-05-11 17:05:07.8907 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 17:05:07.8907 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 17:05:08.6337 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:05:08.6337 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 17:05:08.7019 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:05:08.7163 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 17:13:23.0321 INFO Executed DbCommand (208ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 17:13:23.1995 INFO Executed DbCommand (34ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 17:13:25.6417 INFO Now listening on: http://localhost:5062 
2025-05-11 17:13:25.7145 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 17:13:25.7145 INFO Hosting environment: Development 
2025-05-11 17:13:25.7145 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 17:13:33.1333 INFO Executed DbCommand (13ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:13:40.6284 INFO Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:13:47.8198 INFO Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 17:13:47.8456 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 17:13:48.6239 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:13:48.7146 INFO Executed DbCommand (29ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 17:13:48.8888 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:13:48.9163 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 17:13:53.6368 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:13:53.6581 INFO Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 17:13:53.8714 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:13:53.8937 INFO Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 17:13:58.7676 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:13:58.8318 INFO Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 17:13:58.8722 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 17:13:58.8962 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 17:13:59.3253 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:13:59.4076 INFO Executed DbCommand (39ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:14:05.0143 INFO Executed DbCommand (10ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 17:14:05.0322 INFO Executed DbCommand (8ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:14:05.2231 INFO Executed DbCommand (2ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 17:14:05.2263 INFO Executed DbCommand (1ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:14:05.6194 INFO Executed DbCommand (3ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 17:14:05.6194 INFO Executed DbCommand (5ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:14:06.3081 INFO Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 17:14:06.3358 INFO Executed DbCommand (3ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 17:14:18.1059 INFO Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Bookings] AS [b]
LEFT JOIN [TourSchedules] AS [t] ON [b].[TourScheduleId] = [t].[TourScheduleId]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [b].[BookingId] = @__id_0 
2025-05-11 17:14:18.2911 INFO Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Bookings]
OUTPUT 1
WHERE [BookingId] = @p0;
UPDATE [TourSchedules] SET [RemainingSlot] = @p1
OUTPUT 1
WHERE [TourScheduleId] = @p2; 
2025-05-11 17:14:18.3055 WARN Admin xoá booking #20 – Người đặt: Hoàng Minh 
2025-05-11 17:14:18.3206 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:14:18.3206 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 17:14:18.3714 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:14:18.3841 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 17:14:25.8489 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 17:14:25.8547 INFO Executed DbCommand (3ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 17:19:03.7786 INFO Executed DbCommand (112ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 17:19:03.9011 INFO Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 17:19:04.2769 INFO Now listening on: http://localhost:5062 
2025-05-11 17:19:04.3492 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 17:19:04.3492 INFO Hosting environment: Development 
2025-05-11 17:19:04.3492 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 17:19:09.0868 INFO Executed DbCommand (13ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:31:45.7098 INFO Executed DbCommand (174ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 17:31:45.8168 INFO Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 17:31:46.3198 INFO Now listening on: http://localhost:5062 
2025-05-11 17:31:46.3866 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 17:31:46.3866 INFO Hosting environment: Development 
2025-05-11 17:31:46.3866 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 17:31:51.1706 INFO Executed DbCommand (17ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:31:53.8159 INFO Executed DbCommand (10ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:31:53.9247 INFO Executed DbCommand (36ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC 
2025-05-11 17:31:57.7357 INFO Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:32:02.4891 INFO Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:32:03.6769 INFO Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:32:03.6866 INFO Executed DbCommand (7ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC 
2025-05-11 17:32:06.4692 INFO Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:33:20.7544 INFO Executed DbCommand (98ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 17:33:20.8565 INFO Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 17:33:21.2359 INFO Now listening on: http://localhost:5062 
2025-05-11 17:33:21.2957 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 17:33:21.2957 INFO Hosting environment: Development 
2025-05-11 17:33:21.2957 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 17:33:25.0822 INFO Executed DbCommand (31ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:33:26.7474 INFO Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:33:26.9082 INFO Executed DbCommand (53ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC 
2025-05-11 17:33:35.9784 INFO Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:33:42.7550 INFO Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:33:42.7688 INFO Executed DbCommand (10ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC 
2025-05-11 17:33:44.4544 INFO Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:33:45.9865 INFO Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:33:45.9966 INFO Executed DbCommand (8ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC 
2025-05-11 17:35:51.4076 INFO Executed DbCommand (63ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 17:35:51.4975 INFO Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 17:35:51.9975 INFO Now listening on: http://localhost:5062 
2025-05-11 17:35:52.0698 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 17:35:52.0704 INFO Hosting environment: Development 
2025-05-11 17:35:52.0704 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 17:35:55.8945 INFO Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:35:57.2593 INFO Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:35:57.3684 INFO Executed DbCommand (28ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC 
2025-05-11 17:36:00.0007 INFO Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:36:01.1767 INFO Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:36:01.1844 INFO Executed DbCommand (6ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC 
2025-05-11 17:36:03.6062 INFO Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:36:23.6993 INFO Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:36:23.7750 INFO Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 17:36:23.8865 INFO Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 17:36:23.9275 INFO Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 17:36:24.2982 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:36:24.4064 INFO Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:36:25.8265 INFO Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 17:36:25.8455 INFO Executed DbCommand (4ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 17:36:28.5152 INFO Executed DbCommand (8ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 17:36:28.5152 INFO Người dùng mở trang đặt tour: "Tour Bến Tre – Cồn Phụng 1N" – Ngày đi: "20/11/2025" 
2025-05-11 17:36:28.5480 INFO Executed DbCommand (3ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 17:36:53.3003 INFO Executed DbCommand (8ms) [Parameters=[@__TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t]
WHERE [t].[TourId] = @__TourId_0 
2025-05-11 17:36:53.3225 INFO Executed DbCommand (11ms) [Parameters=[@__TourId_0='?' (DbType = Int32), @__DepartureDate_Date_1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__TourId_0 AND CONVERT(date, [t].[DepartureDate]) = @__DepartureDate_Date_1 
2025-05-11 17:36:53.3225 INFO Executed DbCommand (3ms) [Parameters=[@__Email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__Email_0 
2025-05-11 17:36:53.5403 INFO Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p11='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([AdultQuantity], [BookingDate], [ChildQuantity], [DepartureDate], [PaymentMethod], [SpecialRequest], [TotalPrice], [TourId], [TourScheduleId], [UserId])
OUTPUT INSERTED.[BookingId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
UPDATE [TourSchedules] SET [RemainingSlot] = @p10
OUTPUT 1
WHERE [TourScheduleId] = @p11; 
2025-05-11 17:36:53.5649 INFO  Đặt tour thành công – TourID: 14, Tên tour: "Tour Bến Tre – Cồn Phụng 1N", Ngày đi: "20/11/2025", Người đặt: "Phương Linh", Email: "ptduong394@gmail.com", Số điện thoại: "0367934563", Địa chỉ: "An Giang", Người lớn: 1, Trẻ em: 1, Tổng tiền: "1,650,000" đ, Thanh toán: "MoMo" 
2025-05-11 17:36:53.5793 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:36:53.5793 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 17:36:53.5904 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 17:36:53.5904 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 17:36:53.6402 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:36:53.6640 INFO Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:36:56.6348 INFO Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:36:57.9137 INFO Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:36:57.9226 INFO Executed DbCommand (7ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC 
2025-05-11 17:37:21.4647 INFO Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:37:21.4803 INFO Executed DbCommand (8ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC 
2025-05-11 17:37:31.6598 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:37:31.6898 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 17:37:31.7881 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:37:31.8155 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 17:37:54.9001 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 17:37:54.9147 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 17:37:54.9147 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 17:37:55.0301 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:37:55.0710 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 17:37:55.0710 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 17:38:07.8736 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:38:07.8839 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 17:38:07.9211 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:38:07.9211 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 17:38:14.7239 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 17:38:14.7359 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 17:38:22.6543 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:38:28.5320 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:38:28.5478 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 17:38:28.5897 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:38:28.5897 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 17:38:31.0978 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 17:38:31.1051 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 17:38:31.1051 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 17:38:31.1548 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:38:31.1548 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 17:38:31.1698 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 17:38:44.6674 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:38:44.6674 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 17:38:44.7400 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:38:44.7529 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 17:38:51.6877 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:38:51.7085 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 17:39:03.0470 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:39:03.0470 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 17:39:52.5085 INFO Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:39:52.5307 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32), @__user_UserId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [Bookings] AS [b]
LEFT JOIN [TourSchedules] AS [t] ON [b].[TourScheduleId] = [t].[TourScheduleId]
WHERE [b].[BookingId] = @__id_0 AND [b].[UserId] = @__user_UserId_1 
2025-05-11 17:39:52.5719 INFO Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Bookings]
OUTPUT 1
WHERE [BookingId] = @p0;
UPDATE [TourSchedules] SET [RemainingSlot] = @p1
OUTPUT 1
WHERE [TourScheduleId] = @p2; 
2025-05-11 17:39:52.5901 INFO Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:39:52.5901 INFO Executed DbCommand (6ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC 
2025-05-11 17:39:55.7024 INFO Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:39:55.7024 INFO Executed DbCommand (5ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC 
2025-05-11 17:40:06.2666 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:40:06.2774 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 17:40:06.3408 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:40:06.3534 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 17:40:08.3661 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:40:08.3738 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 17:40:10.0305 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:40:10.0305 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 17:40:15.7379 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:40:15.7500 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 17:40:15.7500 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 17:40:15.7592 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 17:40:15.8154 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:40:15.8537 INFO Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:40:17.2541 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 17:40:17.2611 INFO Executed DbCommand (2ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 17:40:19.5319 INFO Executed DbCommand (5ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 17:40:19.5319 INFO Người dùng mở trang đặt tour: "Tour Đà Lạt 3N2Đ - Thành phố ngàn hoa" – Ngày đi: "10/11/2025" 
2025-05-11 17:40:19.5319 INFO Executed DbCommand (3ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 17:40:35.8577 INFO Executed DbCommand (3ms) [Parameters=[@__TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t]
WHERE [t].[TourId] = @__TourId_0 
2025-05-11 17:40:35.8577 INFO Executed DbCommand (5ms) [Parameters=[@__TourId_0='?' (DbType = Int32), @__DepartureDate_Date_1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__TourId_0 AND CONVERT(date, [t].[DepartureDate]) = @__DepartureDate_Date_1 
2025-05-11 17:40:35.8711 INFO Executed DbCommand (3ms) [Parameters=[@__Email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__Email_0 
2025-05-11 17:40:35.8873 INFO Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p11='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([AdultQuantity], [BookingDate], [ChildQuantity], [DepartureDate], [PaymentMethod], [SpecialRequest], [TotalPrice], [TourId], [TourScheduleId], [UserId])
OUTPUT INSERTED.[BookingId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
UPDATE [TourSchedules] SET [RemainingSlot] = @p10
OUTPUT 1
WHERE [TourScheduleId] = @p11; 
2025-05-11 17:40:35.8873 INFO  Đặt tour thành công – TourID: 7, Tên tour: "Tour Đà Lạt 3N2Đ - Thành phố ngàn hoa", Ngày đi: "10/11/2025", Người đặt: "Phương Linh", Email: "ptduong394@gmail.com", Số điện thoại: "0367934563", Địa chỉ: "An Giang", Người lớn: 1, Trẻ em: 1, Tổng tiền: "4,400,000" đ, Thanh toán: "MoMo" 
2025-05-11 17:40:35.8996 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:40:35.8996 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 17:40:35.8996 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 17:40:35.9154 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 17:40:35.9839 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:40:35.9989 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:40:38.8739 INFO Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:40:41.0460 INFO Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:40:41.0460 INFO Executed DbCommand (5ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC 
2025-05-11 17:45:20.4719 INFO Executed DbCommand (135ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 17:45:20.5762 INFO Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 17:45:21.0551 INFO Now listening on: http://localhost:5062 
2025-05-11 17:45:21.1187 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 17:45:21.1187 INFO Hosting environment: Development 
2025-05-11 17:45:21.1187 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 17:45:25.7680 INFO Executed DbCommand (27ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:45:27.5234 INFO Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:45:27.7124 INFO Executed DbCommand (60ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
LEFT JOIN [Images] AS [i] ON [t].[TourId] = [i].[TourId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC, [b].[BookingId], [t].[TourId], [t0].[TourScheduleId] 
2025-05-11 17:45:50.2284 INFO Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:45:50.2427 INFO Executed DbCommand (11ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
LEFT JOIN [Images] AS [i] ON [t].[TourId] = [i].[TourId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC, [b].[BookingId], [t].[TourId], [t0].[TourScheduleId] 
2025-05-11 17:46:31.8702 INFO Executed DbCommand (75ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 17:46:31.9959 INFO Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 17:46:33.0043 INFO Now listening on: http://localhost:5062 
2025-05-11 17:46:33.0935 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 17:46:33.0935 INFO Hosting environment: Development 
2025-05-11 17:46:33.0935 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 17:46:37.8730 INFO Executed DbCommand (11ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:46:39.6511 INFO Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:46:39.8556 INFO Executed DbCommand (53ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
LEFT JOIN [Images] AS [i] ON [t].[TourId] = [i].[TourId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC, [b].[BookingId], [t].[TourId], [t0].[TourScheduleId] 
2025-05-11 17:46:44.7982 INFO Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:46:58.0577 INFO Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:46:58.1375 INFO Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 17:46:58.1858 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 17:46:58.2108 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 17:46:58.8202 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:46:58.9289 INFO Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:47:08.2272 INFO Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:47:15.7954 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:47:15.8053 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 17:47:15.8053 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 17:47:15.8210 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 17:47:15.8731 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:47:15.8992 INFO Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:47:21.1318 INFO Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:47:24.2321 INFO Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:47:24.2321 INFO Executed DbCommand (7ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
LEFT JOIN [Images] AS [i] ON [t].[TourId] = [i].[TourId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC, [b].[BookingId], [t].[TourId], [t0].[TourScheduleId] 
2025-05-11 17:47:25.9285 INFO Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:47:28.9115 INFO Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:47:28.9195 INFO Executed DbCommand (7ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
LEFT JOIN [Images] AS [i] ON [t].[TourId] = [i].[TourId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC, [b].[BookingId], [t].[TourId], [t0].[TourScheduleId] 
2025-05-11 17:47:44.8867 INFO Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:47:44.9100 INFO Executed DbCommand (19ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
LEFT JOIN [Images] AS [i] ON [t].[TourId] = [i].[TourId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC, [b].[BookingId], [t].[TourId], [t0].[TourScheduleId] 
2025-05-11 17:47:48.9566 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:47:48.9655 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 17:47:48.9655 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 17:47:48.9655 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 17:47:49.2949 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:47:49.3060 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:47:57.9330 INFO Executed DbCommand (9ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 17:47:57.9524 INFO Executed DbCommand (7ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:47:58.1524 INFO Executed DbCommand (2ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 17:47:58.1524 INFO Executed DbCommand (2ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:47:58.5515 INFO Executed DbCommand (1ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 17:47:58.5515 INFO Executed DbCommand (1ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:48:00.9590 INFO Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 17:48:00.9841 INFO Executed DbCommand (3ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 17:52:55.7643 INFO Executed DbCommand (106ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 17:52:55.8624 INFO Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 17:52:56.2522 INFO Now listening on: http://localhost:5062 
2025-05-11 17:52:56.3103 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 17:52:56.3103 INFO Hosting environment: Development 
2025-05-11 17:52:56.3103 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 17:53:02.1258 INFO Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:53:02.2705 INFO Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 17:53:02.4027 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 17:53:02.4566 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 17:53:02.8675 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:53:02.9801 INFO Executed DbCommand (44ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:53:03.7425 INFO Executed DbCommand (20ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:53:05.3821 INFO Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:53:05.4304 INFO Executed DbCommand (13ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
LEFT JOIN [Images] AS [i] ON [t].[TourId] = [i].[TourId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC, [b].[BookingId], [t].[TourId], [t0].[TourScheduleId] 
2025-05-11 17:53:32.3967 INFO Executed DbCommand (12ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:53:32.4076 INFO Executed DbCommand (8ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
LEFT JOIN [Images] AS [i] ON [t].[TourId] = [i].[TourId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC, [b].[BookingId], [t].[TourId], [t0].[TourScheduleId] 
2025-05-11 17:53:35.6137 INFO Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:53:35.6255 INFO Executed DbCommand (10ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
LEFT JOIN [Images] AS [i] ON [t].[TourId] = [i].[TourId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC, [b].[BookingId], [t].[TourId], [t0].[TourScheduleId] 
2025-05-11 17:53:49.5516 INFO Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:53:50.3482 INFO Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:53:50.3538 INFO Executed DbCommand (5ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
LEFT JOIN [Images] AS [i] ON [t].[TourId] = [i].[TourId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC, [b].[BookingId], [t].[TourId], [t0].[TourScheduleId] 
2025-05-11 17:53:59.3541 INFO Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:53:59.3541 INFO Executed DbCommand (8ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
LEFT JOIN [Images] AS [i] ON [t].[TourId] = [i].[TourId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC, [b].[BookingId], [t].[TourId], [t0].[TourScheduleId] 
2025-05-11 17:54:04.7430 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:54:04.7430 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 17:54:04.7714 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 17:54:04.7765 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 17:54:04.8977 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:54:04.9276 INFO Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:54:18.0280 INFO Executed DbCommand (10ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 17:54:18.0490 INFO Executed DbCommand (6ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:54:18.1806 INFO Executed DbCommand (4ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 17:54:18.1806 INFO Executed DbCommand (9ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:54:18.5726 INFO Executed DbCommand (3ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 17:54:18.5726 INFO Executed DbCommand (7ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[Title]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:54:19.4576 INFO Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 17:54:19.4903 INFO Executed DbCommand (3ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 17:54:39.6293 INFO Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:54:39.6580 INFO Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32), @__user_UserId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [Bookings] AS [b]
LEFT JOIN [TourSchedules] AS [t] ON [b].[TourScheduleId] = [t].[TourScheduleId]
WHERE [b].[BookingId] = @__id_0 AND [b].[UserId] = @__user_UserId_1 
2025-05-11 17:54:39.8763 INFO Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Bookings]
OUTPUT 1
WHERE [BookingId] = @p0;
UPDATE [TourSchedules] SET [RemainingSlot] = @p1
OUTPUT 1
WHERE [TourScheduleId] = @p2; 
2025-05-11 17:54:39.9222 INFO Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:54:39.9364 INFO Executed DbCommand (13ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
LEFT JOIN [Images] AS [i] ON [t].[TourId] = [i].[TourId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC, [b].[BookingId], [t].[TourId], [t0].[TourScheduleId] 
2025-05-11 17:54:52.1411 INFO Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 17:54:52.1411 INFO Executed DbCommand (3ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 17:54:57.0230 INFO Executed DbCommand (4ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 17:54:57.0355 INFO Người dùng mở trang đặt tour: "Tour Đà Lạt 3N2Đ - Thành phố ngàn hoa" – Ngày đi: "25/11/2025" 
2025-05-11 17:54:57.0798 INFO Executed DbCommand (2ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 17:55:05.7432 INFO Executed DbCommand (1ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 17:55:05.7432 INFO Người dùng mở trang đặt tour: "Tour Đà Lạt 3N2Đ - Thành phố ngàn hoa" – Ngày đi: "25/11/2025" 
2025-05-11 17:55:05.7432 INFO Executed DbCommand (1ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 17:55:19.1681 INFO Executed DbCommand (4ms) [Parameters=[@__TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t]
WHERE [t].[TourId] = @__TourId_0 
2025-05-11 17:55:19.2000 INFO Executed DbCommand (18ms) [Parameters=[@__TourId_0='?' (DbType = Int32), @__DepartureDate_Date_1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__TourId_0 AND CONVERT(date, [t].[DepartureDate]) = @__DepartureDate_Date_1 
2025-05-11 17:55:19.2000 INFO Executed DbCommand (3ms) [Parameters=[@__Email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__Email_0 
2025-05-11 17:55:19.2727 INFO Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p11='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([AdultQuantity], [BookingDate], [ChildQuantity], [DepartureDate], [PaymentMethod], [SpecialRequest], [TotalPrice], [TourId], [TourScheduleId], [UserId])
OUTPUT INSERTED.[BookingId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
UPDATE [TourSchedules] SET [RemainingSlot] = @p10
OUTPUT 1
WHERE [TourScheduleId] = @p11; 
2025-05-11 17:55:19.3029 INFO  Đặt tour thành công – TourID: 7, Tên tour: "Tour Đà Lạt 3N2Đ - Thành phố ngàn hoa", Ngày đi: "25/11/2025", Người đặt: "Phương Linh", Email: "ptduong394@gmail.com", Số điện thoại: "0367934563", Địa chỉ: "An Giang", Người lớn: 1, Trẻ em: 1, Tổng tiền: "4,400,000" đ, Thanh toán: "MoMo" 
2025-05-11 17:55:19.3390 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:55:19.3570 INFO Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 17:55:19.3716 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 17:55:19.3716 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 17:55:19.8229 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:55:19.8456 INFO Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:55:21.5147 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 17:55:21.5147 INFO Executed DbCommand (3ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 17:55:25.1380 INFO Executed DbCommand (4ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 17:55:25.1380 INFO Người dùng mở trang đặt tour: "Tour Bến Tre – Cồn Phụng 1N" – Ngày đi: "11/11/2025" 
2025-05-11 17:55:25.1380 INFO Executed DbCommand (4ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 17:55:26.2567 INFO Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 17:55:26.2619 INFO Executed DbCommand (2ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 17:55:26.9917 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:55:26.9984 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 17:55:26.9984 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 17:55:26.9984 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 17:55:28.4479 INFO Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 17:55:28.4479 INFO Executed DbCommand (3ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 17:55:30.4624 INFO Executed DbCommand (6ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 17:55:30.4624 INFO Người dùng mở trang đặt tour: "Tour Cần Thơ - Sóc Trăng 2N1Đ - Miền Tây sông nước" – Ngày đi: "02/11/2025" 
2025-05-11 17:55:30.4624 INFO Executed DbCommand (3ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 17:55:47.2023 INFO Executed DbCommand (4ms) [Parameters=[@__TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t]
WHERE [t].[TourId] = @__TourId_0 
2025-05-11 17:55:47.2023 INFO Executed DbCommand (4ms) [Parameters=[@__TourId_0='?' (DbType = Int32), @__DepartureDate_Date_1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__TourId_0 AND CONVERT(date, [t].[DepartureDate]) = @__DepartureDate_Date_1 
2025-05-11 17:55:47.2126 INFO Executed DbCommand (2ms) [Parameters=[@__Email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__Email_0 
2025-05-11 17:55:47.2126 INFO Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p11='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([AdultQuantity], [BookingDate], [ChildQuantity], [DepartureDate], [PaymentMethod], [SpecialRequest], [TotalPrice], [TourId], [TourScheduleId], [UserId])
OUTPUT INSERTED.[BookingId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
UPDATE [TourSchedules] SET [RemainingSlot] = @p10
OUTPUT 1
WHERE [TourScheduleId] = @p11; 
2025-05-11 17:55:47.2126 INFO  Đặt tour thành công – TourID: 8, Tên tour: "Tour Cần Thơ - Sóc Trăng 2N1Đ - Miền Tây sông nước", Ngày đi: "02/11/2025", Người đặt: "Phương Linh", Email: "ptduong394@gmail.com", Số điện thoại: "0367934563", Địa chỉ: "Kiên Giang", Người lớn: 2, Trẻ em: 1, Tổng tiền: "5,100,000" đ, Thanh toán: "MoMo" 
2025-05-11 17:55:47.2370 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:55:47.2425 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 17:55:47.2425 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 17:55:47.2425 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 17:55:47.3071 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:55:47.3071 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 17:55:49.5052 INFO Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:55:49.5162 INFO Executed DbCommand (8ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
LEFT JOIN [Images] AS [i] ON [t].[TourId] = [i].[TourId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC, [b].[BookingId], [t].[TourId], [t0].[TourScheduleId] 
2025-05-11 17:55:53.3953 INFO Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:55:53.4004 INFO Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32), @__user_UserId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [Bookings] AS [b]
LEFT JOIN [TourSchedules] AS [t] ON [b].[TourScheduleId] = [t].[TourScheduleId]
WHERE [b].[BookingId] = @__id_0 AND [b].[UserId] = @__user_UserId_1 
2025-05-11 17:55:53.4004 INFO Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Bookings]
OUTPUT 1
WHERE [BookingId] = @p0;
UPDATE [TourSchedules] SET [RemainingSlot] = @p1
OUTPUT 1
WHERE [TourScheduleId] = @p2; 
2025-05-11 17:55:53.4161 INFO Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:55:53.4161 INFO Executed DbCommand (6ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
LEFT JOIN [Images] AS [i] ON [t].[TourId] = [i].[TourId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC, [b].[BookingId], [t].[TourId], [t0].[TourScheduleId] 
2025-05-11 17:57:38.9106 INFO Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:57:38.9249 INFO Executed DbCommand (7ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
LEFT JOIN [Images] AS [i] ON [t].[TourId] = [i].[TourId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC, [b].[BookingId], [t].[TourId], [t0].[TourScheduleId] 
2025-05-11 17:57:40.4318 INFO Executed DbCommand (10ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:57:40.4487 INFO Executed DbCommand (11ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
LEFT JOIN [Images] AS [i] ON [t].[TourId] = [i].[TourId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC, [b].[BookingId], [t].[TourId], [t0].[TourScheduleId] 
2025-05-11 17:57:43.2300 INFO Executed DbCommand (11ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:57:43.2511 INFO Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32), @__user_UserId_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [Bookings] AS [b]
LEFT JOIN [TourSchedules] AS [t] ON [b].[TourScheduleId] = [t].[TourScheduleId]
WHERE [b].[BookingId] = @__id_0 AND [b].[UserId] = @__user_UserId_1 
2025-05-11 17:57:43.3271 INFO Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Bookings]
OUTPUT 1
WHERE [BookingId] = @p0;
UPDATE [TourSchedules] SET [RemainingSlot] = @p1
OUTPUT 1
WHERE [TourScheduleId] = @p2; 
2025-05-11 17:57:43.3713 INFO Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 17:57:43.3867 INFO Executed DbCommand (13ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
LEFT JOIN [Images] AS [i] ON [t].[TourId] = [i].[TourId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC, [b].[BookingId], [t].[TourId], [t0].[TourScheduleId] 
2025-05-11 17:57:58.4109 INFO Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:57:58.4765 INFO Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 17:57:58.8162 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:57:58.8546 INFO Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 17:57:59.7801 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 17:58:00.4382 INFO Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 17:58:00.4465 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 17:58:03.0807 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 17:58:05.1414 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 17:58:31.4252 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:58:31.4334 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 17:58:31.4838 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 17:58:31.4838 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:00:11.8595 INFO Executed DbCommand (56ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 18:00:11.9479 INFO Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 18:00:12.2895 INFO Now listening on: http://localhost:5062 
2025-05-11 18:00:12.3459 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 18:00:12.3459 INFO Hosting environment: Development 
2025-05-11 18:00:12.3459 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 18:04:27.3930 INFO Executed DbCommand (371ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 18:04:27.5612 INFO Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 18:04:28.2813 INFO Now listening on: http://localhost:5062 
2025-05-11 18:04:28.3999 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 18:04:28.3999 INFO Hosting environment: Development 
2025-05-11 18:04:28.3999 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 18:07:54.9388 INFO Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:07:55.1484 INFO Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 18:07:55.4195 INFO Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:07:55.5148 INFO Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:07:56.7370 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:07:56.9126 INFO Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 18:08:08.5611 INFO Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 18:08:08.7200 INFO Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 18:08:08.7552 INFO Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 18:08:08.7616 INFO Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 18:08:08.7739 INFO Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 18:08:08.7984 INFO Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0 
2025-05-11 18:08:08.7984 INFO Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 18:08:08.8046 INFO Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 18:08:08.8046 INFO Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0 
2025-05-11 18:08:08.8046 INFO Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 18:08:08.9227 INFO Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0 
2025-05-11 18:08:08.9227 WARN admin 
2025-05-11 18:11:06.8609 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 18:11:09.8151 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:11:15.1427 INFO Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:11:15.1560 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:11:16.9403 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:11:16.9810 INFO Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:11:17.0645 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:11:17.0877 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:11:19.9221 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:11:19.9417 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:11:19.9453 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:11:20.0219 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:11:20.0552 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:11:20.0552 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:11:23.3581 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 18:11:30.0349 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 18:17:39.1039 INFO Executed DbCommand (88ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 18:17:39.2003 INFO Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 18:17:39.6538 INFO Now listening on: http://localhost:5062 
2025-05-11 18:17:39.7256 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 18:17:39.7256 INFO Hosting environment: Development 
2025-05-11 18:17:39.7256 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 18:17:48.2947 INFO Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:17:48.3313 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:17:51.7796 INFO Executed DbCommand (15ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 18:17:51.7796 INFO Executed DbCommand (2ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\'
ORDER BY [c].[CategoryId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY 
2025-05-11 18:17:52.7081 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:17:52.7139 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:17:53.6038 INFO Executed DbCommand (10ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 18:17:53.6038 INFO Executed DbCommand (2ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\'
ORDER BY [c].[CategoryId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY 
2025-05-11 18:17:55.1788 INFO Executed DbCommand (7ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 18:17:55.1815 INFO Executed DbCommand (2ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\'
ORDER BY [c].[CategoryId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY 
2025-05-11 18:17:56.5879 INFO Executed DbCommand (2ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 18:17:56.5908 INFO Executed DbCommand (2ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\'
ORDER BY [c].[CategoryId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY 
2025-05-11 18:17:58.1330 INFO Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:17:58.1388 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:18:00.8466 INFO Executed DbCommand (8ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 18:18:00.8527 INFO Executed DbCommand (3ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\'
ORDER BY [c].[CategoryId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY 
2025-05-11 18:18:02.9866 INFO Executed DbCommand (8ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 18:18:02.9866 INFO Executed DbCommand (2ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\'
ORDER BY [c].[CategoryId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY 
2025-05-11 18:18:04.4425 INFO Executed DbCommand (14ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 18:18:04.4466 INFO Executed DbCommand (3ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\'
ORDER BY [c].[CategoryId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY 
2025-05-11 18:18:05.3101 INFO Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:18:05.3101 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:18:06.3492 INFO Executed DbCommand (5ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 18:18:06.3520 INFO Executed DbCommand (2ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\'
ORDER BY [c].[CategoryId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY 
2025-05-11 18:18:08.5179 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:18:08.6172 INFO Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:18:08.8454 INFO Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:18:08.8890 INFO Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:18:11.6065 INFO Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:18:11.6417 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:18:11.6587 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:18:11.7995 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:18:11.8536 INFO Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:18:11.8536 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:18:14.7858 INFO Executed DbCommand (7ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 18:18:14.8028 INFO Executed DbCommand (6ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:18:14.8069 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:18:16.6799 INFO Executed DbCommand (3ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 18:18:16.6799 INFO Executed DbCommand (3ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[Title] LIKE @__keyword_0_contains ESCAPE N'\'
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:18:16.6799 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:18:18.6620 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:18:18.6735 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:18:18.6827 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:18:23.2322 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:18:23.2322 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:18:30.3490 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:18:30.3568 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:18:30.3568 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:18:30.4426 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:18:30.4483 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:18:30.4483 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:18:32.4655 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:18:32.4655 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:18:41.4528 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[CategoryId] = @__p_0 
2025-05-11 18:18:44.0623 INFO Executed DbCommand (17ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CategoryName] = @p0
OUTPUT 1
WHERE [CategoryId] = @p1; 
2025-05-11 18:18:44.0764 INFO Đã cập nhật loại tour ID 2 
2025-05-11 18:18:44.1392 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:18:44.1392 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:18:45.5691 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:18:47.6774 INFO Executed DbCommand (9ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:18:47.6956 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:18:47.7417 INFO Executed DbCommand (8ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Key] AS [Region], COUNT(*) AS [Count]
FROM (
    SELECT CASE
        WHEN [t].[CategoryId] = 1 THEN N'Miền Bắc'
        ELSE N'Miền Nam'
    END AS [Key]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [s]
GROUP BY [s].[Key] 
2025-05-11 18:18:47.7553 INFO Executed DbCommand (7ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [b].[PaymentMethod] 
2025-05-11 18:18:47.7653 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 18:18:47.7653 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:18:58.9198 INFO Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:18:58.9198 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:19:01.4157 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:19:01.4409 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:19:01.5578 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:19:01.5842 INFO Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:19:04.9018 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:19:04.9165 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:19:10.5311 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:19:10.5311 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:19:10.5415 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:19:10.5856 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:19:10.5939 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:19:10.6130 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:19:12.8801 INFO Executed DbCommand (4ms) [Parameters=[@__categoryId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[CategoryId] = @__categoryId_0 
2025-05-11 18:19:12.8968 INFO Executed DbCommand (5ms) [Parameters=[@__categoryId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[CategoryId] = @__categoryId_0
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:19:12.9014 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:19:15.6614 INFO Executed DbCommand (3ms) [Parameters=[@__categoryId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t]
WHERE [t].[CategoryId] = @__categoryId_0 
2025-05-11 18:19:15.6672 INFO Executed DbCommand (4ms) [Parameters=[@__categoryId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[CategoryId] = @__categoryId_0
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:19:15.6672 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:19:17.5747 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:19:20.6504 INFO Executed DbCommand (3ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:19:20.6504 INFO Executed DbCommand (2ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:19:20.6504 INFO Executed DbCommand (6ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Key] AS [Region], COUNT(*) AS [Count]
FROM (
    SELECT CASE
        WHEN [t].[CategoryId] = 1 THEN N'Miền Bắc'
        ELSE N'Miền Nam'
    END AS [Key]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [s]
GROUP BY [s].[Key] 
2025-05-11 18:19:20.6659 INFO Executed DbCommand (3ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [b].[PaymentMethod] 
2025-05-11 18:19:20.6659 INFO Executed DbCommand (2ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 18:19:20.6659 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:19:23.4483 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:19:23.4483 INFO Executed DbCommand (2ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:19:23.4742 INFO Executed DbCommand (22ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Key] AS [Region], COUNT(*) AS [Count]
FROM (
    SELECT CASE
        WHEN [t].[CategoryId] = 1 THEN N'Miền Bắc'
        ELSE N'Miền Nam'
    END AS [Key]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [s]
GROUP BY [s].[Key] 
2025-05-11 18:19:23.4797 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [b].[PaymentMethod] 
2025-05-11 18:19:23.4797 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 18:19:23.4797 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:19:36.9724 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:19:36.9812 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:19:49.1853 INFO Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Categories] ([CategoryName])
OUTPUT INSERTED.[CategoryId]
VALUES (@p0); 
2025-05-11 18:19:49.2037 INFO Đã thêm loại tour mới: Du lịch Nước Ngoài 
2025-05-11 18:19:49.2575 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:19:49.2575 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:19:54.5394 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:19:54.5482 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:19:54.5572 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:19:54.6691 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:19:54.6867 INFO Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:19:54.6867 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:19:58.0776 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 18:21:07.6558 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c] 
2025-05-11 18:21:07.6940 INFO Executed DbCommand (13ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (Size = 200), @p7='?' (Size = 2000), @p8='?' (Size = 200), @p9='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Tours] ([AdultPrice], [Capacity], [CategoryId], [ChildPrice], [Description], [Destination], [Duration], [Itinerary], [Title], [Transport])
OUTPUT INSERTED.[TourId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9); 
2025-05-11 18:21:07.7045 INFO Đã thêm tour mới ID 16: Du lịch Nhật Bản 
2025-05-11 18:21:07.8060 INFO Executed DbCommand (35ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (DbType = Int32), @p3='?' (Size = 200), @p4='?' (DbType = Int32), @p5='?' (Size = 200), @p6='?' (DbType = Int32), @p7='?' (Size = 200), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Boolean), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [Images] USING (
VALUES (@p0, @p1, @p2, @p3, 0),
(@p4, @p5, @p6, @p7, 1)) AS i ([DayNumber], [Description], [TourId], [Url], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DayNumber], [Description], [TourId], [Url])
VALUES (i.[DayNumber], i.[Description], i.[TourId], i.[Url])
OUTPUT INSERTED.[ImageId], i._Position;
MERGE [TourSchedules] USING (
VALUES (@p8, @p9, @p10, @p11, @p12, 0),
(@p13, @p14, @p15, @p16, @p17, 1)) AS i ([DepartureDate], [IsDeleted], [RemainingSlot], [ReturnDate], [TourId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DepartureDate], [IsDeleted], [RemainingSlot], [ReturnDate], [TourId])
VALUES (i.[DepartureDate], i.[IsDeleted], i.[RemainingSlot], i.[ReturnDate], i.[TourId])
OUTPUT INSERTED.[TourScheduleId], i._Position; 
2025-05-11 18:21:07.8322 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:21:07.8322 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:21:07.8377 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:21:07.8928 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:21:07.9026 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:21:07.9026 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:21:18.8704 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:21:18.9073 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 18:21:18.9176 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:21:18.9319 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:21:19.3836 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:21:19.4999 INFO Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 18:21:20.9110 INFO Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 18:21:20.9285 INFO Executed DbCommand (4ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 18:21:23.6899 INFO Executed DbCommand (3ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 18:21:23.6983 INFO Người dùng mở trang đặt tour: "Du lịch Nhật Bản" – Ngày đi: "11/05/2025" 
2025-05-11 18:21:23.7194 INFO Executed DbCommand (3ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 18:21:49.6080 INFO Executed DbCommand (10ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 18:21:49.6080 INFO Người dùng mở trang đặt tour: "Du lịch Nhật Bản" – Ngày đi: "11/05/2025" 
2025-05-11 18:21:49.6080 INFO Executed DbCommand (3ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 18:21:52.0486 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:21:52.0554 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 18:21:52.0554 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:21:52.0554 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:21:52.1531 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:21:52.1720 INFO Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 18:21:53.6386 INFO Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 18:21:53.6386 INFO Executed DbCommand (4ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 18:22:04.0433 INFO Executed DbCommand (8ms) [Parameters=[@__TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
FROM [Tours] AS [t]
WHERE [t].[TourId] = @__TourId_0 
2025-05-11 18:22:04.0613 INFO Executed DbCommand (7ms) [Parameters=[@__TourId_0='?' (DbType = Int32), @__DepartureDate_Date_1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__TourId_0 AND CONVERT(date, [t].[DepartureDate]) = @__DepartureDate_Date_1 
2025-05-11 18:22:04.0716 INFO Executed DbCommand (5ms) [Parameters=[@__Email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__Email_0 
2025-05-11 18:22:04.0716 INFO Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?' (Size = 200), @p3='?' (Size = 200), @p4='?' (Size = 200), @p5='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Address], [Email], [FullName], [Password], [Phone], [Role])
OUTPUT INSERTED.[UserId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5); 
2025-05-11 18:22:04.1110 INFO Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 200), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p11='?' (DbType = Int32), @p10='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Bookings] ([AdultQuantity], [BookingDate], [ChildQuantity], [DepartureDate], [PaymentMethod], [SpecialRequest], [TotalPrice], [TourId], [TourScheduleId], [UserId])
OUTPUT INSERTED.[BookingId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
UPDATE [TourSchedules] SET [RemainingSlot] = @p10
OUTPUT 1
WHERE [TourScheduleId] = @p11; 
2025-05-11 18:22:04.1110 INFO  Đặt tour thành công – TourID: 16, Tên tour: "Du lịch Nhật Bản", Ngày đi: "11/05/2025", Người đặt: "Dương Phước Thuận", Email: "duonganhthu@gmail.com", Số điện thoại: "0367934563", Địa chỉ: "Kiên Giang", Người lớn: 2, Trẻ em: 1, Tổng tiền: "7,300,000" đ, Thanh toán: "Quầy" 
2025-05-11 18:22:04.1299 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:22:04.1342 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 18:22:04.1342 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:22:04.1342 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:22:04.1803 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:22:04.1803 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 18:22:06.8845 INFO Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 18:22:06.8845 INFO Executed DbCommand (4ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 18:22:12.3405 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:22:15.1093 INFO Executed DbCommand (16ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:22:15.1172 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:22:15.1172 INFO Executed DbCommand (6ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Key] AS [Region], COUNT(*) AS [Count]
FROM (
    SELECT CASE
        WHEN [t].[CategoryId] = 1 THEN N'Miền Bắc'
        ELSE N'Miền Nam'
    END AS [Key]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [s]
GROUP BY [s].[Key] 
2025-05-11 18:22:15.1172 INFO Executed DbCommand (3ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [b].[PaymentMethod] 
2025-05-11 18:22:15.1337 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 18:22:15.1337 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:22:49.2696 INFO Executed DbCommand (5ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:22:49.2748 INFO Executed DbCommand (3ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:22:49.2748 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Key] AS [Region], COUNT(*) AS [Count]
FROM (
    SELECT CASE
        WHEN [t].[CategoryId] = 1 THEN N'Miền Bắc'
        ELSE N'Miền Nam'
    END AS [Key]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [s]
GROUP BY [s].[Key] 
2025-05-11 18:22:49.2748 INFO Executed DbCommand (3ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [b].[PaymentMethod] 
2025-05-11 18:22:49.2748 INFO Executed DbCommand (3ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 18:22:49.2899 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:22:50.2200 INFO Executed DbCommand (3ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:22:50.2200 INFO Executed DbCommand (2ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:22:50.2280 INFO Executed DbCommand (5ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Key] AS [Region], COUNT(*) AS [Count]
FROM (
    SELECT CASE
        WHEN [t].[CategoryId] = 1 THEN N'Miền Bắc'
        ELSE N'Miền Nam'
    END AS [Key]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [s]
GROUP BY [s].[Key] 
2025-05-11 18:22:50.2280 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [b].[PaymentMethod] 
2025-05-11 18:22:50.2280 INFO Executed DbCommand (3ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 18:22:50.2280 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:22:51.1721 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:22:51.1721 INFO Executed DbCommand (3ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:22:51.1813 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[Key] AS [Region], COUNT(*) AS [Count]
FROM (
    SELECT CASE
        WHEN [t].[CategoryId] = 1 THEN N'Miền Bắc'
        ELSE N'Miền Nam'
    END AS [Key]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [s]
GROUP BY [s].[Key] 
2025-05-11 18:22:51.1813 INFO Executed DbCommand (2ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [b].[PaymentMethod] 
2025-05-11 18:22:51.1813 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 18:22:51.1813 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:29:03.4680 INFO Executed DbCommand (148ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 18:29:03.5892 INFO Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 18:29:04.1372 INFO Now listening on: http://localhost:5062 
2025-05-11 18:29:04.2116 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 18:29:04.2116 INFO Hosting environment: Development 
2025-05-11 18:29:04.2116 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 18:29:27.5595 INFO Executed DbCommand (62ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:29:27.6057 INFO Executed DbCommand (11ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:29:27.7593 INFO Executed DbCommand (50ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryName] AS [Region], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [c].[CategoryName] 
2025-05-11 18:29:27.7760 INFO Executed DbCommand (8ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [b].[PaymentMethod] 
2025-05-11 18:29:27.8005 INFO Executed DbCommand (6ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 18:29:27.8172 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:29:34.0393 INFO Executed DbCommand (7ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:29:34.0437 INFO Executed DbCommand (2ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:29:34.0437 INFO Executed DbCommand (7ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryName] AS [Region], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [c].[CategoryName] 
2025-05-11 18:29:34.0592 INFO Executed DbCommand (5ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [b].[PaymentMethod] 
2025-05-11 18:29:34.0592 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 18:29:34.0592 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:29:36.1105 INFO Executed DbCommand (6ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:29:36.1105 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:29:36.1227 INFO Executed DbCommand (5ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryName] AS [Region], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [c].[CategoryName] 
2025-05-11 18:29:36.1227 INFO Executed DbCommand (2ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [b].[PaymentMethod] 
2025-05-11 18:29:36.1227 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 18:29:36.1227 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:34:17.3355 INFO Executed DbCommand (128ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 18:34:17.4487 INFO Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 18:34:18.8028 INFO Now listening on: http://localhost:5062 
2025-05-11 18:34:18.8861 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 18:34:18.8861 INFO Hosting environment: Development 
2025-05-11 18:34:18.8861 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 18:34:23.7492 INFO Executed DbCommand (27ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:34:23.7760 INFO Executed DbCommand (9ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:34:23.8979 INFO Executed DbCommand (35ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryName] AS [Region], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [c].[CategoryName] 
2025-05-11 18:34:23.9232 INFO Executed DbCommand (15ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [b].[PaymentMethod] 
2025-05-11 18:34:23.9508 INFO Executed DbCommand (12ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 18:34:23.9738 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:34:38.1298 INFO Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:34:38.1557 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:34:41.8939 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:34:48.4309 INFO Executed DbCommand (10ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:34:48.4309 INFO Executed DbCommand (3ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:34:48.4309 INFO Executed DbCommand (5ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryName] AS [Region], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [c].[CategoryName] 
2025-05-11 18:34:48.4309 INFO Executed DbCommand (2ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [b].[PaymentMethod] 
2025-05-11 18:34:48.4481 INFO Executed DbCommand (2ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 18:34:48.4481 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:34:58.6648 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:34:58.6897 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:35:02.0723 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[CategoryId] = @__p_0 
2025-05-11 18:35:04.2192 INFO Executed DbCommand (22ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Categories] SET [CategoryName] = @p0
OUTPUT 1
WHERE [CategoryId] = @p1; 
2025-05-11 18:35:04.2356 INFO Đã cập nhật loại tour ID 2 
2025-05-11 18:35:04.3078 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:35:04.3078 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:35:06.7355 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:35:10.3073 INFO Executed DbCommand (3ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:35:10.3073 INFO Executed DbCommand (6ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:35:10.3262 INFO Executed DbCommand (8ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryName] AS [Region], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [c].[CategoryName] 
2025-05-11 18:35:10.3372 INFO Executed DbCommand (7ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [b].[PaymentMethod] 
2025-05-11 18:35:10.3372 INFO Executed DbCommand (10ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 18:35:10.3529 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:35:29.2659 INFO Executed DbCommand (9ms) [Parameters=[@__year_Value_0='?' (DbType = Int32), @__month_Value_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 AND DATEPART(month, [b].[DepartureDate]) = @__month_Value_1 
2025-05-11 18:35:29.2743 INFO Executed DbCommand (3ms) [Parameters=[@__year_Value_0='?' (DbType = Int32), @__month_Value_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 AND DATEPART(month, [b].[DepartureDate]) = @__month_Value_1 
2025-05-11 18:35:29.2743 INFO Executed DbCommand (6ms) [Parameters=[@__year_Value_0='?' (DbType = Int32), @__month_Value_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryName] AS [Region], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 AND DATEPART(month, [b].[DepartureDate]) = @__month_Value_1
GROUP BY [c].[CategoryName] 
2025-05-11 18:35:29.2978 INFO Executed DbCommand (5ms) [Parameters=[@__year_Value_0='?' (DbType = Int32), @__month_Value_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 AND DATEPART(month, [b].[DepartureDate]) = @__month_Value_1
GROUP BY [b].[PaymentMethod] 
2025-05-11 18:35:29.2978 INFO Executed DbCommand (3ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 18:35:29.2978 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:35:31.3576 INFO Executed DbCommand (10ms) [Parameters=[@__year_Value_0='?' (DbType = Int32), @__month_Value_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 AND DATEPART(month, [b].[DepartureDate]) = @__month_Value_1 
2025-05-11 18:35:31.3576 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32), @__month_Value_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 AND DATEPART(month, [b].[DepartureDate]) = @__month_Value_1 
2025-05-11 18:35:31.3679 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32), @__month_Value_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryName] AS [Region], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 AND DATEPART(month, [b].[DepartureDate]) = @__month_Value_1
GROUP BY [c].[CategoryName] 
2025-05-11 18:35:31.3679 INFO Executed DbCommand (3ms) [Parameters=[@__year_Value_0='?' (DbType = Int32), @__month_Value_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 AND DATEPART(month, [b].[DepartureDate]) = @__month_Value_1
GROUP BY [b].[PaymentMethod] 
2025-05-11 18:35:31.3679 INFO Executed DbCommand (2ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 18:35:31.3679 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:35:32.7295 INFO Executed DbCommand (6ms) [Parameters=[@__year_Value_0='?' (DbType = Int32), @__month_Value_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 AND DATEPART(month, [b].[DepartureDate]) = @__month_Value_1 
2025-05-11 18:35:32.7295 INFO Executed DbCommand (3ms) [Parameters=[@__year_Value_0='?' (DbType = Int32), @__month_Value_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 AND DATEPART(month, [b].[DepartureDate]) = @__month_Value_1 
2025-05-11 18:35:32.7295 INFO Executed DbCommand (5ms) [Parameters=[@__year_Value_0='?' (DbType = Int32), @__month_Value_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryName] AS [Region], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 AND DATEPART(month, [b].[DepartureDate]) = @__month_Value_1
GROUP BY [c].[CategoryName] 
2025-05-11 18:35:32.7452 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32), @__month_Value_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 AND DATEPART(month, [b].[DepartureDate]) = @__month_Value_1
GROUP BY [b].[PaymentMethod] 
2025-05-11 18:35:32.7452 INFO Executed DbCommand (3ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 18:35:32.7452 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:35:39.3931 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:35:39.3988 INFO Executed DbCommand (2ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COALESCE(SUM([b].[TotalPrice]), 0.0)
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0 
2025-05-11 18:35:39.3988 INFO Executed DbCommand (4ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryName] AS [Region], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [c].[CategoryName] 
2025-05-11 18:35:39.3988 INFO Executed DbCommand (3ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[PaymentMethod] AS [Method], COUNT(*) AS [Count]
FROM [Bookings] AS [b]
WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
GROUP BY [b].[PaymentMethod] 
2025-05-11 18:35:39.3988 INFO Executed DbCommand (2ms) [Parameters=[@__year_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[Key] AS [Month], COALESCE(SUM([b0].[TotalPrice]), 0.0) AS [Revenue]
FROM (
    SELECT [b].[TotalPrice], DATEPART(month, [b].[DepartureDate]) AS [Key]
    FROM [Bookings] AS [b]
    WHERE DATEPART(year, [b].[DepartureDate]) = @__year_Value_0
) AS [b0]
GROUP BY [b0].[Key] 
2025-05-11 18:35:39.3988 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:35:46.9115 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:35:46.9216 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:35:56.2926 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:35:56.2926 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:36:00.7576 INFO Executed DbCommand (8ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 18:36:00.7633 INFO Executed DbCommand (1ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\'
ORDER BY [c].[CategoryId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY 
2025-05-11 18:36:02.5649 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:36:02.5649 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:36:04.3205 INFO Executed DbCommand (2ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 18:36:04.3205 INFO Executed DbCommand (1ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\'
ORDER BY [c].[CategoryId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY 
2025-05-11 18:36:06.0594 INFO Executed DbCommand (2ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 18:36:06.0594 INFO Executed DbCommand (1ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\'
ORDER BY [c].[CategoryId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY 
2025-05-11 18:36:08.0450 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:36:08.0450 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:36:11.5081 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:36:11.5081 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:36:13.6414 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:36:13.6938 INFO Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:36:13.8278 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:36:13.8587 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:36:22.6388 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:36:22.6778 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:36:22.6935 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:36:22.7975 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:36:22.8470 INFO Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:36:22.8557 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:36:27.3151 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:36:27.3233 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:36:27.3793 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:36:27.3904 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:36:28.3814 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:36:29.7791 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:36:29.7791 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:36:35.1291 INFO Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:36:35.1429 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:36:35.1881 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:36:35.1987 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:36:39.4527 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:36:39.4527 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:36:41.6864 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:36:41.6864 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:36:41.6864 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:36:41.7425 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:36:41.7425 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:36:41.7425 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:36:54.3182 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:36:54.3268 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:36:54.3852 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:36:54.3988 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:36:58.1833 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:37:00.1211 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:37:00.1211 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:37:01.6600 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:37:01.6667 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:37:01.7106 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:37:01.7178 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:37:03.0405 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:37:03.0405 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:37:04.0618 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:37:04.0712 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:37:04.1150 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:37:04.1275 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:37:05.4958 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:37:05.4958 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:37:05.9121 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:37:08.0692 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:37:08.0738 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:37:09.9137 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:37:09.9227 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:37:09.9688 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:37:09.9821 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:37:11.4312 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:37:11.4312 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:37:12.4430 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:37:13.8918 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:37:13.8918 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:37:13.8918 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:37:13.9416 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:37:13.9571 INFO Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:37:13.9646 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:37:17.7609 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:37:17.7760 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:37:17.7760 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:37:20.2234 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:37:20.2298 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:37:25.7667 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:37:25.7667 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:37:28.6006 INFO Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u0].[UserId], [u0].[Address], [u0].[Email], [u0].[FullName], [u0].[Password], [u0].[Phone], [u0].[Role], [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[TourId0], [s].[AdultPrice], [s].[Capacity], [s].[CategoryId], [s].[ChildPrice], [s].[Description], [s].[Destination], [s].[Duration], [s].[Itinerary], [s].[Title], [s].[Transport]
FROM (
    SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[UserId] = @__id_0
) AS [u0]
LEFT JOIN (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId] AS [TourId0], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
) AS [s] ON [u0].[UserId] = [s].[UserId]
ORDER BY [u0].[UserId], [s].[BookingId] 
2025-05-11 18:37:41.2297 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:37:41.2297 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:38:16.8363 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:38:16.8584 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 18:38:16.8584 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:38:16.8677 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:38:17.2520 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:38:17.3722 INFO Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 18:38:35.4492 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:38:35.4492 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 18:38:35.4642 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:38:35.4642 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:38:35.7365 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:38:35.7490 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 18:38:46.9184 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:38:46.9184 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 18:38:46.9365 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:38:46.9365 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:38:46.9826 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:38:47.0007 INFO Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 18:38:48.2510 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 18:38:48.2663 INFO Executed DbCommand (2ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 18:38:57.0669 INFO Executed DbCommand (4ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t0].[TourId], [t0].[AdultPrice], [t0].[Capacity], [t0].[CategoryId], [t0].[ChildPrice], [t0].[Description], [t0].[Destination], [t0].[Duration], [t0].[Itinerary], [t0].[Title], [t0].[Transport], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__tourId_0
) AS [t0]
LEFT JOIN [Images] AS [i] ON [t0].[TourId] = [i].[TourId]
ORDER BY [t0].[TourId] 
2025-05-11 18:38:57.0729 INFO Người dùng mở trang đặt tour: "Tour Ba Vì – Làng Văn hóa 1N" – Ngày đi: "22/10/2025" 
2025-05-11 18:38:57.0937 INFO Executed DbCommand (5ms) [Parameters=[@__tourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[TourScheduleId], [t].[DepartureDate], [t].[IsDeleted], [t].[RemainingSlot], [t].[ReturnDate], [t].[TourId]
FROM [TourSchedules] AS [t]
WHERE [t].[TourId] = @__tourId_0 AND [t].[RemainingSlot] > 0
ORDER BY [t].[DepartureDate] 
2025-05-11 18:39:18.5279 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:39:18.5279 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 18:39:18.5424 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:39:18.5424 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:39:19.0631 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:39:19.0786 INFO Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 18:39:20.9644 INFO Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 18:39:25.6648 INFO Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 18:39:25.6919 INFO Executed DbCommand (5ms) [Parameters=[@__user_UserId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b].[TourScheduleId] = [t0].[TourScheduleId]
LEFT JOIN [Images] AS [i] ON [t].[TourId] = [i].[TourId]
WHERE [b].[UserId] = @__user_UserId_0
ORDER BY [b].[BookingDate] DESC, [b].[BookingId], [t].[TourId], [t0].[TourScheduleId] 
2025-05-11 18:39:27.8222 INFO Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0 
2025-05-11 18:41:02.2640 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:41:13.3423 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:41:13.3423 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:41:14.4631 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:41:14.4631 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:41:14.5205 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:41:14.5304 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:41:20.2485 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:41:20.2485 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:47:13.7540 INFO Executed DbCommand (166ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 18:47:13.9243 INFO Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 18:47:14.6396 INFO Now listening on: http://localhost:5062 
2025-05-11 18:47:14.7294 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 18:47:14.7294 INFO Hosting environment: Development 
2025-05-11 18:47:14.7294 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 18:47:20.1348 INFO Executed DbCommand (34ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:47:20.1783 INFO Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:47:30.9580 INFO Executed DbCommand (31ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u0].[UserId], [u0].[Address], [u0].[Email], [u0].[FullName], [u0].[Password], [u0].[Phone], [u0].[Role], [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[TourId0], [s].[AdultPrice], [s].[Capacity], [s].[CategoryId], [s].[ChildPrice], [s].[Description], [s].[Destination], [s].[Duration], [s].[Itinerary], [s].[Title], [s].[Transport]
FROM (
    SELECT TOP(1) [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Users] AS [u]
    WHERE [u].[UserId] = @__id_0
) AS [u0]
LEFT JOIN (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId] AS [TourId0], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
) AS [s] ON [u0].[UserId] = [s].[UserId]
ORDER BY [u0].[UserId], [s].[BookingId] 
2025-05-11 18:47:32.8575 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:47:32.8575 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:48:00.4986 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:48:00.5444 INFO Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:48:00.6443 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:48:00.6702 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:48:03.2133 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:48:03.2600 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:48:03.2783 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:48:03.3873 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:48:03.4275 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:48:03.4411 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:48:05.3690 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:48:05.3850 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:48:07.9324 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:48:07.9324 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:48:14.6846 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:48:14.6846 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:48:14.6846 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:48:14.7481 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:48:14.7601 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:48:14.7601 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:48:20.1986 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:48:20.1986 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:48:20.2679 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:48:20.2813 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:49:15.9817 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:49:15.9817 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:49:29.2803 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:49:29.2935 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:49:29.3336 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:49:29.3448 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:49:32.7237 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:49:32.7416 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:49:33.5944 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:49:33.5944 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:49:34.8941 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:49:34.9005 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:49:47.9082 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:49:47.9205 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:49:47.9933 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:49:48.0377 INFO Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:52:00.1395 INFO Executed DbCommand (119ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 18:52:00.2454 INFO Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 18:52:00.7152 INFO Now listening on: http://localhost:5062 
2025-05-11 18:52:00.7829 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 18:52:00.7829 INFO Hosting environment: Development 
2025-05-11 18:52:00.7829 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 18:52:06.9009 INFO Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:52:07.0838 INFO Executed DbCommand (68ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:52:07.5103 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:52:07.5442 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:52:12.5885 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:52:12.6185 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 18:52:13.1320 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:52:13.1388 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:52:15.4097 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:52:15.4257 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:52:16.9277 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:52:16.9410 INFO Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 18:52:18.3817 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:52:18.4008 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] 
2025-05-11 18:52:21.8600 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:52:22.5221 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:52:22.5324 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:52:25.3736 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:52:25.3836 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:52:25.6156 INFO Executed DbCommand (76ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:52:25.6373 INFO Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:52:28.2590 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:52:28.2590 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:52:29.8693 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:52:29.8693 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:52:29.9179 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:52:29.9179 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:52:32.2810 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:52:32.3111 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:52:32.3263 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:52:32.4092 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:52:32.4743 INFO Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:52:32.4821 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:52:38.2017 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:52:38.2017 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:52:39.7546 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:52:39.7641 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:52:39.7992 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:52:39.8102 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:52:43.8754 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:52:43.8754 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:52:45.8265 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:52:48.6180 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:52:48.6180 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:52:48.6180 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:52:48.6657 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:52:48.6657 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:52:48.6657 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:52:51.8710 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:52:51.8710 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:54:56.1353 INFO Executed DbCommand (132ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 18:54:56.2348 INFO Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 18:54:56.6756 INFO Now listening on: http://localhost:5062 
2025-05-11 18:54:56.7389 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 18:54:56.7389 INFO Hosting environment: Development 
2025-05-11 18:54:56.7389 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 18:55:03.3212 INFO Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:55:03.3671 INFO Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:56:51.7388 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:56:51.7752 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:56:56.6858 INFO Executed DbCommand (14ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 18:56:56.6997 INFO Executed DbCommand (2ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\'
ORDER BY [c].[CategoryId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY 
2025-05-11 18:56:58.5203 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:56:58.5234 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:57:08.4107 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:57:08.4153 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:57:09.3814 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:57:09.3866 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:57:09.5911 INFO Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:57:09.5911 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:57:09.7941 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:57:09.7941 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:57:09.9409 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:57:09.9409 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:57:10.1286 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:57:10.1286 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:57:10.2712 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:57:10.2740 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:57:10.4372 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:57:10.4479 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:57:10.5748 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:57:10.5748 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:57:10.7029 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:57:10.7029 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:57:10.8711 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:57:10.8711 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:57:11.0023 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:57:11.0023 INFO Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:57:46.5304 INFO Executed DbCommand (68ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 18:57:46.6369 INFO Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 18:57:47.1402 INFO Now listening on: http://localhost:5062 
2025-05-11 18:57:47.2088 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 18:57:47.2088 INFO Hosting environment: Development 
2025-05-11 18:57:47.2088 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 18:57:53.0325 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:57:53.0538 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:57:57.9126 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:57:58.0084 INFO Executed DbCommand (27ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:57:58.1984 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:57:58.2350 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:57:58.4122 INFO Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:57:58.4211 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:58:01.0366 INFO Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:58:01.0696 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 18:58:01.0894 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 18:58:01.2199 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:58:01.2815 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 18:58:01.2941 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 18:58:06.2510 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:58:06.2510 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:58:09.7669 INFO Executed DbCommand (2ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 18:58:09.7737 INFO Executed DbCommand (1ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\'
ORDER BY [c].[CategoryId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY 
2025-05-11 18:58:10.5773 INFO Executed DbCommand (2ms) [Parameters=[@__keyword_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\' 
2025-05-11 18:58:10.5773 INFO Executed DbCommand (2ms) [Parameters=[@__keyword_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
WHERE [c].[CategoryName] LIKE @__keyword_0_contains ESCAPE N'\'
ORDER BY [c].[CategoryId]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY 
2025-05-11 18:58:12.1429 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 18:58:12.1429 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:58:19.4452 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:58:19.4552 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:58:19.5059 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:58:19.5198 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:58:26.1661 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 18:58:26.8793 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 18:58:26.8835 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 18:58:34.1829 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:58:34.1829 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 18:58:34.2360 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:58:34.2509 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:58:40.3100 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:58:40.3458 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 18:58:41.4413 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 18:58:41.4491 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 19:02:50.2670 INFO Executed DbCommand (175ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 19:02:50.4203 INFO Executed DbCommand (27ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 19:02:50.9411 INFO Now listening on: http://localhost:5062 
2025-05-11 19:02:51.0039 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 19:02:51.0039 INFO Hosting environment: Development 
2025-05-11 19:02:51.0039 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 19:02:55.1474 INFO Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 19:02:55.2884 INFO Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 19:02:55.6407 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 19:02:55.6699 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 19:03:07.8721 INFO Executed DbCommand (18ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 19:03:07.9033 INFO Executed DbCommand (7ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:03:09.0064 INFO Executed DbCommand (3ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 19:03:09.0127 INFO Executed DbCommand (5ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:03:10.0261 INFO Executed DbCommand (4ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 19:03:10.0261 INFO Executed DbCommand (4ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:03:10.5855 INFO Executed DbCommand (4ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 19:03:10.5904 INFO Executed DbCommand (4ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:03:11.3383 INFO Executed DbCommand (3ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 19:03:11.3383 INFO Executed DbCommand (4ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:03:12.3684 INFO Executed DbCommand (3ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 19:03:12.3684 INFO Executed DbCommand (5ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:03:12.9891 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 19:03:12.9956 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 19:03:22.6447 INFO Executed DbCommand (8ms) [Parameters=[@__email_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[Email] LIKE @__email_0_contains ESCAPE N'\' 
2025-05-11 19:03:22.6697 INFO Executed DbCommand (8ms) [Parameters=[@__email_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[Email] LIKE @__email_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:05:06.7770 INFO Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 19:05:06.8023 INFO Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 19:05:06.9529 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 19:05:06.9637 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 19:05:39.5934 INFO Executed DbCommand (61ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 19:05:39.6948 INFO Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 19:05:40.1218 INFO Now listening on: http://localhost:5062 
2025-05-11 19:05:40.1810 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 19:05:40.1810 INFO Hosting environment: Development 
2025-05-11 19:05:40.1810 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 19:05:46.6539 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 19:05:46.7462 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 19:05:47.0356 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 19:05:47.0587 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 19:05:49.0361 INFO Executed DbCommand (15ms) [Parameters=[@__email_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[Email] LIKE @__email_0_contains ESCAPE N'\' 
2025-05-11 19:05:49.0587 INFO Executed DbCommand (5ms) [Parameters=[@__email_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[Email] LIKE @__email_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:05:49.5610 INFO Executed DbCommand (2ms) [Parameters=[@__email_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[Email] LIKE @__email_0_contains ESCAPE N'\' 
2025-05-11 19:05:49.5610 INFO Executed DbCommand (1ms) [Parameters=[@__email_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[Email] LIKE @__email_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:05:50.5737 INFO Executed DbCommand (4ms) [Parameters=[@__email_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[Email] LIKE @__email_0_contains ESCAPE N'\' 
2025-05-11 19:05:50.5737 INFO Executed DbCommand (4ms) [Parameters=[@__email_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[Email] LIKE @__email_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:05:51.0333 INFO Executed DbCommand (4ms) [Parameters=[@__email_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[Email] LIKE @__email_0_contains ESCAPE N'\' 
2025-05-11 19:05:51.0333 INFO Executed DbCommand (4ms) [Parameters=[@__email_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[Email] LIKE @__email_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:05:51.6304 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 19:05:51.6382 INFO Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 19:05:55.2346 INFO Executed DbCommand (7ms) [Parameters=[@__tour_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [t].[Title] LIKE @__tour_0_contains ESCAPE N'\' 
2025-05-11 19:05:55.2541 INFO Executed DbCommand (6ms) [Parameters=[@__tour_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [s].[TourId0], [s].[AdultPrice], [s].[Capacity], [s].[CategoryId], [s].[ChildPrice], [s].[Description], [s].[Destination], [s].[Duration], [s].[Itinerary], [s].[Title], [s].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId] AS [TourId0], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
    WHERE [t].[Title] LIKE @__tour_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[UserId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:05:57.5560 INFO Executed DbCommand (4ms) [Parameters=[@__tour_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [t].[Title] LIKE @__tour_0_contains ESCAPE N'\' 
2025-05-11 19:05:57.5560 INFO Executed DbCommand (4ms) [Parameters=[@__tour_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [s].[TourId0], [s].[AdultPrice], [s].[Capacity], [s].[CategoryId], [s].[ChildPrice], [s].[Description], [s].[Destination], [s].[Duration], [s].[Itinerary], [s].[Title], [s].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId] AS [TourId0], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
    WHERE [t].[Title] LIKE @__tour_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[UserId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:05:59.1283 INFO Executed DbCommand (4ms) [Parameters=[@__tour_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [t].[Title] LIKE @__tour_0_contains ESCAPE N'\' 
2025-05-11 19:05:59.1354 INFO Executed DbCommand (6ms) [Parameters=[@__tour_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [s].[TourId0], [s].[AdultPrice], [s].[Capacity], [s].[CategoryId], [s].[ChildPrice], [s].[Description], [s].[Destination], [s].[Duration], [s].[Itinerary], [s].[Title], [s].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId] AS [TourId0], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
    WHERE [t].[Title] LIKE @__tour_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[UserId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:05:59.5628 INFO Executed DbCommand (4ms) [Parameters=[@__tour_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [t].[Title] LIKE @__tour_0_contains ESCAPE N'\' 
2025-05-11 19:05:59.5628 INFO Executed DbCommand (4ms) [Parameters=[@__tour_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [s].[TourId0], [s].[AdultPrice], [s].[Capacity], [s].[CategoryId], [s].[ChildPrice], [s].[Description], [s].[Destination], [s].[Duration], [s].[Itinerary], [s].[Title], [s].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId] AS [TourId0], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
    WHERE [t].[Title] LIKE @__tour_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[UserId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:06:02.7583 INFO Executed DbCommand (4ms) [Parameters=[@__tour_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [t].[Title] LIKE @__tour_0_contains ESCAPE N'\' 
2025-05-11 19:06:02.7822 INFO Executed DbCommand (9ms) [Parameters=[@__tour_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [s].[TourId0], [s].[AdultPrice], [s].[Capacity], [s].[CategoryId], [s].[ChildPrice], [s].[Description], [s].[Destination], [s].[Duration], [s].[Itinerary], [s].[Title], [s].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId] AS [TourId0], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
    WHERE [t].[Title] LIKE @__tour_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[UserId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:06:05.6543 INFO Executed DbCommand (4ms) [Parameters=[@__tour_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
WHERE [t].[Title] LIKE @__tour_0_contains ESCAPE N'\' 
2025-05-11 19:06:05.6543 INFO Executed DbCommand (6ms) [Parameters=[@__tour_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [s].[TourId0], [s].[AdultPrice], [s].[Capacity], [s].[CategoryId], [s].[ChildPrice], [s].[Description], [s].[Destination], [s].[Duration], [s].[Itinerary], [s].[Title], [s].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [t].[TourId] AS [TourId0], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Bookings] AS [b]
    INNER JOIN [Tours] AS [t] ON [b].[TourId] = [t].[TourId]
    WHERE [t].[Title] LIKE @__tour_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Users] AS [u] ON [s].[UserId] = [u].[UserId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:06:08.8528 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 19:06:08.8528 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 19:06:10.6585 INFO Executed DbCommand (4ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 19:06:10.6770 INFO Executed DbCommand (5ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:06:12.4866 INFO Executed DbCommand (4ms) [Parameters=[@__name_0_contains='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b]
INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\' 
2025-05-11 19:06:12.4933 INFO Executed DbCommand (5ms) [Parameters=[@__name_0_contains='?' (Size = 200), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [s].[BookingId], [s].[AdultQuantity], [s].[BookingDate], [s].[ChildQuantity], [s].[DepartureDate], [s].[PaymentMethod], [s].[SpecialRequest], [s].[TotalPrice], [s].[TourId], [s].[TourScheduleId], [s].[UserId], [s].[UserId0], [s].[Address], [s].[Email], [s].[FullName], [s].[Password], [s].[Phone], [s].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId], [u].[UserId] AS [UserId0], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
    FROM [Bookings] AS [b]
    INNER JOIN [Users] AS [u] ON [b].[UserId] = [u].[UserId]
    WHERE [u].[FullName] LIKE @__name_0_contains ESCAPE N'\'
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Tours] AS [t] ON [s].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [s].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [s].[BookingId] DESC 
2025-05-11 19:06:12.9043 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 19:06:12.9043 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 19:06:16.3272 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 19:06:16.3388 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 19:06:19.3777 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 19:06:20.7772 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c] 
2025-05-11 19:06:20.7772 INFO Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [c].[CategoryId], [c].[CategoryName]
FROM [Categories] AS [c]
ORDER BY [c].[CategoryId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 19:06:22.6180 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 19:06:22.6545 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 19:06:22.6723 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 19:06:22.7963 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 19:06:22.8861 INFO Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 19:06:22.8984 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 19:06:29.9404 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 19:06:29.9544 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 19:06:30.0084 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 19:06:30.0084 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 19:06:30.8151 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 19:06:30.8151 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 19:06:31.8106 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 19:06:34.9488 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 19:06:34.9488 INFO Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 19:06:35.5078 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 19:06:35.5078 INFO Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 19:06:35.5625 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 19:06:35.5709 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 19:06:36.8548 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 19:06:36.8548 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 19:06:36.8548 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 19:06:36.9111 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 19:06:36.9174 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 19:06:36.9174 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 19:06:52.6745 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 19:06:52.6920 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 19:06:52.6977 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 19:06:54.3868 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 19:06:54.3868 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 19:06:54.3868 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 19:06:56.8581 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 19:06:56.8581 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[TourId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[TourId] DESC 
2025-05-11 19:06:56.8674 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[DayNumber] = 0 
2025-05-11 19:07:02.2106 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 19:07:02.2247 INFO Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 19:07:02.2809 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 19:07:02.3303 INFO Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 19:07:03.4719 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 19:07:03.4719 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 19:07:04.1836 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 19:07:06.0558 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 19:07:06.0558 INFO Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingDate] DESC 
2025-05-11 19:07:06.0970 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Bookings] AS [b] 
2025-05-11 19:07:06.6413 INFO Executed DbCommand (542ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [b0].[BookingId], [b0].[AdultQuantity], [b0].[BookingDate], [b0].[ChildQuantity], [b0].[DepartureDate], [b0].[PaymentMethod], [b0].[SpecialRequest], [b0].[TotalPrice], [b0].[TourId], [b0].[TourScheduleId], [b0].[UserId], [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role], [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [b].[BookingId], [b].[AdultQuantity], [b].[BookingDate], [b].[ChildQuantity], [b].[DepartureDate], [b].[PaymentMethod], [b].[SpecialRequest], [b].[TotalPrice], [b].[TourId], [b].[TourScheduleId], [b].[UserId]
    FROM [Bookings] AS [b]
    ORDER BY [b].[BookingId] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
INNER JOIN [Users] AS [u] ON [b0].[UserId] = [u].[UserId]
INNER JOIN [Tours] AS [t] ON [b0].[TourId] = [t].[TourId]
LEFT JOIN [TourSchedules] AS [t0] ON [b0].[TourScheduleId] = [t0].[TourScheduleId]
ORDER BY [b0].[BookingId] DESC 
2025-05-11 19:07:06.8099 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin' 
2025-05-11 19:07:06.8099 INFO Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [u].[UserId], [u].[Address], [u].[Email], [u].[FullName], [u].[Password], [u].[Phone], [u].[Role]
FROM [Users] AS [u]
WHERE [u].[Role] <> N'admin'
ORDER BY [u].[UserId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY 
2025-05-11 19:07:07.8394 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 19:07:16.3975 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 19:07:16.4326 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 19:07:16.4326 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 19:07:16.4489 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 19:07:16.8274 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 19:07:16.9558 INFO Executed DbCommand (47ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 19:07:20.4014 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 19:07:20.4269 INFO Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 19:17:31.7275 INFO Executed DbCommand (110ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 19:17:31.8415 INFO Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 19:17:32.3675 INFO Now listening on: http://localhost:5062 
2025-05-11 19:17:32.4376 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 19:17:32.4376 INFO Hosting environment: Development 
2025-05-11 19:17:32.4376 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 19:17:43.1395 INFO Executed DbCommand (39ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t2].[TourScheduleId], [t2].[DepartureDate], [t2].[IsDeleted], [t2].[RemainingSlot], [t2].[ReturnDate], [t2].[TourId]
FROM (
    SELECT TOP(1) [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    WHERE [t].[TourId] = @__id_0
) AS [t1]
LEFT JOIN (
    SELECT [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
    FROM [TourSchedules] AS [t0]
    WHERE [t0].[IsDeleted] = CAST(0 AS bit)
) AS [t2] ON [t1].[TourId] = [t2].[TourId]
ORDER BY [t1].[TourId] 
2025-05-11 19:17:43.2448 INFO Executed DbCommand (10ms) [Parameters=[@__Model_TourId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [i].[ImageId], [i].[DayNumber], [i].[Description], [i].[TourId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[TourId] = @__Model_TourId_0 
2025-05-11 19:17:55.7251 INFO Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 19:17:55.7819 INFO Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 19:17:55.8361 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 19:17:55.8834 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 19:17:56.2782 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 19:17:56.3781 INFO Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 19:18:00.6420 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 19:18:00.6755 INFO Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 23:46:26.0031 INFO Executed DbCommand (109ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 23:46:26.1894 INFO Executed DbCommand (18ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 23:46:26.6560 INFO Now listening on: http://localhost:5062 
2025-05-11 23:46:26.7211 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 23:46:26.7211 INFO Hosting environment: Development 
2025-05-11 23:46:26.7211 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 23:46:37.0679 INFO Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 23:46:37.2041 INFO Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 23:46:37.3143 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 23:46:37.3533 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 23:46:37.7769 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 23:46:37.9009 INFO Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 23:46:40.5488 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 23:46:40.5727 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 23:46:55.9151 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 23:46:55.9151 INFO Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 23:46:55.9448 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 23:46:55.9537 INFO Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 23:46:56.0529 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 23:46:56.0688 INFO Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 23:46:59.6680 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 23:46:59.6680 INFO Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 23:50:55.4915 ERROR An error occurred using the connection to database 'TourBookingDB' on server '.\SQLEXPRESS'. 
2025-05-11 23:50:55.5634 ERROR An exception occurred while iterating over the results of a query for context type 'TourBookingWeb.Data.TourDBContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=59; handshake=24; [Login] initialization=1; authentication=4; [Post-Login] complete=14014; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:be15e6a6-dc37-460f-ba38-b2809289f453
Error Number:-2,State:0,Class:11 Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=59; handshake=24; [Login] initialization=1; authentication=4; [Post-Login] complete=14014; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:be15e6a6-dc37-460f-ba38-b2809289f453
Error Number:-2,State:0,Class:11
2025-05-11 23:52:35.3557 INFO Executed DbCommand (93ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 23:52:35.4682 INFO Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 23:52:35.9573 INFO Now listening on: http://localhost:5062 
2025-05-11 23:52:36.0177 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 23:52:36.0177 INFO Hosting environment: Development 
2025-05-11 23:52:36.0177 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 23:52:48.1284 INFO Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 23:52:48.2491 INFO Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 23:52:48.3527 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 23:52:48.4043 INFO Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 23:52:48.6747 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 23:52:48.7506 INFO Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 23:57:17.4000 INFO Executed DbCommand (111ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0 
2025-05-11 23:57:17.5059 INFO Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0 
2025-05-11 23:57:17.9089 INFO Now listening on: http://localhost:5062 
2025-05-11 23:57:17.9768 INFO Application started. Press Ctrl+C to shut down. 
2025-05-11 23:57:17.9768 INFO Hosting environment: Development 
2025-05-11 23:57:17.9768 INFO Content root path: C:\Users\PC\Downloads\TourBookingWeb 
2025-05-11 23:57:32.8082 INFO Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 23:57:32.9809 INFO Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 23:57:33.1387 INFO Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 23:57:33.1769 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 23:57:33.5843 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 23:57:33.6961 INFO Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 23:58:01.2720 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 23:58:01.2822 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 23:58:01.2945 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 23:58:01.2945 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 23:58:01.4333 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 23:58:01.4626 INFO Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 23:58:33.7018 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 23:58:33.7018 INFO Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[AdultPrice], [t1].[Capacity], [t1].[CategoryId], [t1].[ChildPrice], [t1].[Description], [t1].[Destination], [t1].[Duration], [t1].[Itinerary], [t1].[Title], [t1].[Transport], [t0].[TourScheduleId], [t0].[DepartureDate], [t0].[IsDeleted], [t0].[RemainingSlot], [t0].[ReturnDate], [t0].[TourId]
FROM (
    SELECT [t].[TourId], [t].[AdultPrice], [t].[Capacity], [t].[CategoryId], [t].[ChildPrice], [t].[Description], [t].[Destination], [t].[Duration], [t].[Itinerary], [t].[Title], [t].[Transport]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN [TourSchedules] AS [t0] ON [t1].[TourId] = [t0].[TourId]
ORDER BY [t1].[Title], [t1].[TourId] 
2025-05-11 23:58:33.7161 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CONVERT(varchar(11), [c].[CategoryId]) AS [Value], [c].[CategoryName] AS [Text]
FROM [Categories] AS [c] 
2025-05-11 23:58:33.7161 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [t0].[Destination]
FROM (
    SELECT DISTINCT [t].[Destination]
    FROM [Tours] AS [t]
) AS [t0]
ORDER BY [t0].[Destination] 
2025-05-11 23:58:33.8284 INFO Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 23:58:33.8470 INFO Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
2025-05-11 23:58:36.5775 INFO Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Tours] AS [t] 
2025-05-11 23:58:36.6110 INFO Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t1].[TourId], [t1].[Title], [t1].[Destination], [t1].[Duration], [t1].[Capacity], [t1].[AdultPrice], [t3].[DepartureDate], [t3].[TourScheduleId], [t1].[c]
FROM (
    SELECT [t].[TourId], [t].[Title], [t].[Destination], [t].[Duration], [t].[Capacity], [t].[AdultPrice], COALESCE((
        SELECT TOP(1) [i].[Url]
        FROM [Images] AS [i]
        WHERE [i].[TourId] = [t].[TourId] AND [i].[DayNumber] = 0), N'assets/images/no-image.jpg') AS [c]
    FROM [Tours] AS [t]
    ORDER BY [t].[Title]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t1]
LEFT JOIN (
    SELECT [t2].[DepartureDate], [t2].[TourScheduleId], [t2].[TourId]
    FROM (
        SELECT [t0].[DepartureDate], [t0].[TourScheduleId], [t0].[TourId], ROW_NUMBER() OVER(PARTITION BY [t0].[TourId] ORDER BY [t0].[DepartureDate]) AS [row]
        FROM [TourSchedules] AS [t0]
        WHERE [t0].[IsDeleted] = CAST(0 AS bit)
    ) AS [t2]
    WHERE [t2].[row] <= 3
) AS [t3] ON [t1].[TourId] = [t3].[TourId]
ORDER BY [t1].[Title], [t1].[TourId], [t3].[TourId], [t3].[DepartureDate] 
